{"remainingRequest":"/home/valter/work/demo7/node_modules/ts-loader/index.js??ref--14-1!/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/valter/work/demo7/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/valter/work/demo7/src/views/apps/customers/CustomersListing.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/valter/work/demo7/src/views/apps/customers/CustomersListing.vue","mtime":1636661312000},{"path":"/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js","mtime":1665764724378},{"path":"/home/valter/work/demo7/node_modules/ts-loader/index.js","mtime":1665764724869},{"path":"/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js","mtime":1665764724378},{"path":"/home/valter/work/demo7/node_modules/vue-loader-v16/dist/index.js","mtime":1665764726893}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19zcHJlYWRBcnJheXMgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmLCBvbk1vdW50ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgRGF0YXRhYmxlIGZyb20gIkAvY29tcG9uZW50cy9rdC1kYXRhdGFibGUvS1REYXRhdGFibGUudnVlIjsKaW1wb3J0IEV4cG9ydEN1c3RvbWVyTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL21vZGFscy9mb3Jtcy9FeHBvcnRDdXN0b21lck1vZGFsLnZ1ZSI7CmltcG9ydCBBZGRDdXN0b21lck1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9tb2RhbHMvZm9ybXMvQWRkQ3VzdG9tZXJNb2RhbC52dWUiOwppbXBvcnQgeyBNZW51Q29tcG9uZW50IH0gZnJvbSAiQC9hc3NldHMvdHMvY29tcG9uZW50cyI7CmltcG9ydCB7IHNldEN1cnJlbnRQYWdlQnJlYWRjcnVtYnMgfSBmcm9tICJAL2NvcmUvaGVscGVycy9icmVhZGNydW1iIjsKaW1wb3J0IGN1c3RvbWVycyBmcm9tICJAL2NvcmUvZGF0YS9jdXN0b21lcnMiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogImN1c3RvbWVycy1saXN0aW5nIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBEYXRhdGFibGU6IERhdGF0YWJsZSwKICAgICAgICBFeHBvcnRDdXN0b21lck1vZGFsOiBFeHBvcnRDdXN0b21lck1vZGFsLAogICAgICAgIEFkZEN1c3RvbWVyTW9kYWw6IEFkZEN1c3RvbWVyTW9kYWwsCiAgICB9LAogICAgc2V0dXA6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY2hlY2tlZEN1c3RvbWVycyA9IHJlZihbXSk7CiAgICAgICAgdmFyIHRhYmxlSGVhZGVyID0gcmVmKFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAga2V5OiAiY2hlY2tib3giLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiAiQ3VzdG9tZXIgTmFtZSIsCiAgICAgICAgICAgICAgICBrZXk6ICJuYW1lIiwKICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBuYW1lOiAiRW1haWwiLAogICAgICAgICAgICAgICAga2V5OiAiZW1haWwiLAogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICJDb21wYW55IiwKICAgICAgICAgICAgICAgIGtleTogImNvbXBhbnkiLAogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICJQYXltZW50IE1ldGhvZCIsCiAgICAgICAgICAgICAgICBrZXk6ICJwYXltZW50TWV0aG9kIiwKICAgICAgICAgICAgICAgIHNvcnRpbmdGaWVsZDogInBheW1lbnQubGFiZWwiLAogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG5hbWU6ICJDcmVhdGVkIERhdGUiLAogICAgICAgICAgICAgICAga2V5OiAiZGF0ZSIsCiAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogIkFjdGlvbnMiLAogICAgICAgICAgICAgICAga2V5OiAiYWN0aW9ucyIsCiAgICAgICAgICAgIH0sCiAgICAgICAgXSk7CiAgICAgICAgdmFyIHRhYmxlRGF0YSA9IHJlZihjdXN0b21lcnMpOwogICAgICAgIHZhciBpbml0Q3VzdG9tZXJzID0gcmVmKFtdKTsKICAgICAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX2E7CiAgICAgICAgICAgIE1lbnVDb21wb25lbnQucmVpbml0aWFsaXphdGlvbigpOwogICAgICAgICAgICBzZXRDdXJyZW50UGFnZUJyZWFkY3J1bWJzKCJDdXN0b21lcnMgTGlzdGluZyIsIFsiQXBwcyIsICJDdXN0b21lcnMiXSk7CiAgICAgICAgICAgIChfYSA9IGluaXRDdXN0b21lcnMudmFsdWUpLnNwbGljZS5hcHBseShfYSwgX19zcHJlYWRBcnJheXMoWzAsIHRhYmxlRGF0YS52YWx1ZS5sZW5ndGhdLCB0YWJsZURhdGEudmFsdWUpKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgZGVsZXRlRmV3Q3VzdG9tZXJzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjaGVja2VkQ3VzdG9tZXJzLnZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGRlbGV0ZUN1c3RvbWVyKGl0ZW0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2hlY2tlZEN1c3RvbWVycy52YWx1ZS5sZW5ndGggPSAwOwogICAgICAgIH07CiAgICAgICAgdmFyIGRlbGV0ZUN1c3RvbWVyID0gZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGVEYXRhLnZhbHVlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAodGFibGVEYXRhLnZhbHVlW2ldLmlkID09PSBpZCkgewogICAgICAgICAgICAgICAgICAgIHRhYmxlRGF0YS52YWx1ZS5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHZhciBzZWFyY2ggPSByZWYoIiIpOwogICAgICAgIHZhciBzZWFyY2hJdGVtcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9hLCBfYjsKICAgICAgICAgICAgKF9hID0gdGFibGVEYXRhLnZhbHVlKS5zcGxpY2UuYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXlzKFswLCB0YWJsZURhdGEudmFsdWUubGVuZ3RoXSwgaW5pdEN1c3RvbWVycy52YWx1ZSkpOwogICAgICAgICAgICBpZiAoc2VhcmNoLnZhbHVlICE9PSAiIikgewogICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGFibGVEYXRhLnZhbHVlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaGluZ0Z1bmModGFibGVEYXRhLnZhbHVlW2pdLCBzZWFyY2gudmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0YWJsZURhdGEudmFsdWVbal0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIChfYiA9IHRhYmxlRGF0YS52YWx1ZSkuc3BsaWNlLmFwcGx5KF9iLCBfX3NwcmVhZEFycmF5cyhbMCwgdGFibGVEYXRhLnZhbHVlLmxlbmd0aF0sIHJlc3VsdHMpKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdmFyIHNlYXJjaGluZ0Z1bmMgPSBmdW5jdGlvbiAob2JqLCB2YWx1ZSkgewogICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIob2JqW2tleV0pICYmICEodHlwZW9mIG9ialtrZXldID09PSAib2JqZWN0IikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAob2JqW2tleV0uaW5kZXhPZih2YWx1ZSkgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9OwogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRhYmxlRGF0YTogdGFibGVEYXRhLAogICAgICAgICAgICB0YWJsZUhlYWRlcjogdGFibGVIZWFkZXIsCiAgICAgICAgICAgIGRlbGV0ZUN1c3RvbWVyOiBkZWxldGVDdXN0b21lciwKICAgICAgICAgICAgc2VhcmNoOiBzZWFyY2gsCiAgICAgICAgICAgIHNlYXJjaEl0ZW1zOiBzZWFyY2hJdGVtcywKICAgICAgICAgICAgY2hlY2tlZEN1c3RvbWVyczogY2hlY2tlZEN1c3RvbWVycywKICAgICAgICAgICAgZGVsZXRlRmV3Q3VzdG9tZXJzOiBkZWxldGVGZXdDdXN0b21lcnMsCiAgICAgICAgfTsKICAgIH0sCn0pOwo="},{"version":3,"file":"/home/valter/work/demo7/src/views/apps/customers/CustomersListing.vue.ts","sourceRoot":"","sources":["/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/valter/work/demo7/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/valter/work/demo7/src/views/apps/customers/CustomersListing.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\r\nimport { defineComponent, ref, onMounted } from \"vue\";\r\nimport Datatable from \"@/components/kt-datatable/KTDatatable.vue\";\r\nimport ExportCustomerModal from \"@/components/modals/forms/ExportCustomerModal.vue\";\r\nimport AddCustomerModal from \"@/components/modals/forms/AddCustomerModal.vue\";\r\nimport { MenuComponent } from \"@/assets/ts/components\";\r\nimport { setCurrentPageBreadcrumbs } from \"@/core/helpers/breadcrumb\";\r\nimport customers from \"@/core/data/customers\";\r\nimport { ICustomer } from \"@/core/data/customers\";\r\n\r\nexport default defineComponent({\r\n  name: \"customers-listing\",\r\n  components: {\r\n    Datatable,\r\n    ExportCustomerModal,\r\n    AddCustomerModal,\r\n  },\r\n  setup() {\r\n    const checkedCustomers = ref([]);\r\n    const tableHeader = ref([\r\n      {\r\n        key: \"checkbox\",\r\n      },\r\n      {\r\n        name: \"Customer Name\",\r\n        key: \"name\",\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: \"Email\",\r\n        key: \"email\",\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: \"Company\",\r\n        key: \"company\",\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: \"Payment Method\",\r\n        key: \"paymentMethod\",\r\n        sortingField: \"payment.label\",\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: \"Created Date\",\r\n        key: \"date\",\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: \"Actions\",\r\n        key: \"actions\",\r\n      },\r\n    ]);\r\n\r\n    const tableData = ref<Array<ICustomer>>(customers);\r\n    const initCustomers = ref<Array<ICustomer>>([]);\r\n\r\n    onMounted(() => {\r\n      MenuComponent.reinitialization();\r\n      setCurrentPageBreadcrumbs(\"Customers Listing\", [\"Apps\", \"Customers\"]);\r\n      initCustomers.value.splice(0, tableData.value.length, ...tableData.value);\r\n    });\r\n\r\n    const deleteFewCustomers = () => {\r\n      checkedCustomers.value.forEach((item) => {\r\n        deleteCustomer(item);\r\n      });\r\n      checkedCustomers.value.length = 0;\r\n    };\r\n\r\n    const deleteCustomer = (id) => {\r\n      for (let i = 0; i < tableData.value.length; i++) {\r\n        if (tableData.value[i].id === id) {\r\n          tableData.value.splice(i, 1);\r\n        }\r\n      }\r\n    };\r\n\r\n    const search = ref<string>(\"\");\r\n    const searchItems = () => {\r\n      tableData.value.splice(0, tableData.value.length, ...initCustomers.value);\r\n      if (search.value !== \"\") {\r\n        let results: Array<ICustomer> = [];\r\n        for (let j = 0; j < tableData.value.length; j++) {\r\n          if (searchingFunc(tableData.value[j], search.value)) {\r\n            results.push(tableData.value[j]);\r\n          }\r\n        }\r\n        tableData.value.splice(0, tableData.value.length, ...results);\r\n      }\r\n    };\r\n\r\n    const searchingFunc = (obj, value): boolean => {\r\n      for (let key in obj) {\r\n        if (!Number.isInteger(obj[key]) && !(typeof obj[key] === \"object\")) {\r\n          if (obj[key].indexOf(value) != -1) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n\r\n    return {\r\n      tableData,\r\n      tableHeader,\r\n      deleteCustomer,\r\n      search,\r\n      searchItems,\r\n      checkedCustomers,\r\n      deleteFewCustomers,\r\n    };\r\n  },\r\n});\r\n"]}]}