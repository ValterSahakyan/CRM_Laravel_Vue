{"remainingRequest":"/home/valter/work/demo7/node_modules/ts-loader/index.js??ref--14-1!/home/valter/work/demo7/node_modules/eslint-loader/index.js??ref--13-0!/home/valter/work/demo7/src/assets/ts/_utils/ElementAnimateUtil.ts","dependencies":[{"path":"/home/valter/work/demo7/src/assets/ts/_utils/ElementAnimateUtil.ts","mtime":1636661312000},{"path":"/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js","mtime":1665764724378},{"path":"/home/valter/work/demo7/node_modules/ts-loader/index.js","mtime":1665764724869},{"path":"/home/valter/work/demo7/node_modules/eslint-loader/index.js","mtime":1665764716618}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRE9NRXZlbnRIYW5kbGVyVXRpbCB9IGZyb20gJy4vX0RPTUV2ZW50SGFuZGxlclV0aWwnOwppbXBvcnQgeyBFbGVtZW50U3R5bGVVdGlsIH0gZnJvbSAnLi9fRWxlbWVudFN0eWxlVXRpbCc7CmltcG9ydCB7IGdldEVsZW1lbnRPZmZzZXQgfSBmcm9tICcuL0RvbUhlbHBlcnMnOwp2YXIgRWxlbWVudEFuaW1hdGVVdGlsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRWxlbWVudEFuaW1hdGVVdGlsKCkgewogICAgfQogICAgRWxlbWVudEFuaW1hdGVVdGlsLmFuaW1hdGUgPSBmdW5jdGlvbiAoZnJvbSwgdG8sIGR1cmF0aW9uLCB1cGRhdGUsIGNvbXBsZXRlKSB7CiAgICAgICAgLyoqCiAgICAgICAgICogVGlueUFuaW1hdGUuZWFzaW5ncwogICAgICAgICAqICBBZGFwdGVkIGZyb20galF1ZXJ5IEVhc2luZwogICAgICAgICAqLwogICAgICAgIHZhciBlYXNpbmdzID0gewogICAgICAgICAgICBsaW5lYXI6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gKGMgKiB0KSAvIGQgKyBiOwogICAgICAgICAgICB9LAogICAgICAgIH07CiAgICAgICAgLy8gQ3JlYXRlIG1vY2sgZG9uZSgpIGZ1bmN0aW9uIGlmIG5lY2Vzc2FyeQogICAgICAgIGlmICghY29tcGxldGUpIHsKICAgICAgICAgICAgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IH07CiAgICAgICAgfQogICAgICAgIC8vIEFuaW1hdGlvbiBsb29wCiAgICAgICAgLy8gbGV0IGNhbmNlbGVkID0gZmFsc2U7CiAgICAgICAgdmFyIGNoYW5nZSA9IHRvIC0gZnJvbTsKICAgICAgICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcCkgewogICAgICAgICAgICB2YXIgdGltZSA9ICh0aW1lc3RhbXAgfHwgK25ldyBEYXRlKCkpIC0gc3RhcnQ7CiAgICAgICAgICAgIGlmICh0aW1lID49IDApIHsKICAgICAgICAgICAgICAgIHVwZGF0ZShlYXNpbmdzLmxpbmVhcih0aW1lLCBmcm9tLCBjaGFuZ2UsIGR1cmF0aW9uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRpbWUgPj0gMCAmJiB0aW1lID49IGR1cmF0aW9uKSB7CiAgICAgICAgICAgICAgICB1cGRhdGUodG8pOwogICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7CiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdXBkYXRlKGZyb20pOwogICAgICAgIC8vIFN0YXJ0IGFuaW1hdGlvbiBsb29wCiAgICAgICAgdmFyIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgPyB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgOiArbmV3IERhdGUoKTsKICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOwogICAgfTsKICAgIEVsZW1lbnRBbmltYXRlVXRpbC5hbmltYXRlQ2xhc3MgPSBmdW5jdGlvbiAoZWxlbWVudCwgYW5pbWF0aW9uTmFtZSwgY2FsbEJhY2spIHsKICAgICAgICB2YXIgYW5pbWF0ZUNsYXNzZXMgPSBhbmltYXRpb25OYW1lLnNwbGl0KCcgJyk7CiAgICAgICAgYW5pbWF0ZUNsYXNzZXMuZm9yRWFjaChmdW5jdGlvbiAoY3NzQ2xhc3MpIHsgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7IH0pOwogICAgICAgIERPTUV2ZW50SGFuZGxlclV0aWwub25lKGVsZW1lbnQsICdhbmltYXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGFuaW1hdGVDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNzc0NsYXNzKSB7IHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3MpOyB9KTsKICAgICAgICB9KTsKICAgICAgICBpZiAoY2FsbEJhY2spIHsKICAgICAgICAgICAgRE9NRXZlbnRIYW5kbGVyVXRpbC5vbmUoZWxlbWVudCwgJ2FuaW1hdGlvbmVuZCcsIGNhbGxCYWNrKTsKICAgICAgICB9CiAgICB9OwogICAgRWxlbWVudEFuaW1hdGVVdGlsLnRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbEJhY2spIHsKICAgICAgICBET01FdmVudEhhbmRsZXJVdGlsLm9uZShlbGVtZW50LCAndHJhbnNpdGlvbmVuZCcsIGNhbGxCYWNrKTsKICAgIH07CiAgICBFbGVtZW50QW5pbWF0ZVV0aWwuYW5pbWF0aW9uRW5kID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxCYWNrKSB7CiAgICAgICAgRE9NRXZlbnRIYW5kbGVyVXRpbC5vbmUoZWxlbWVudCwgJ2FuaW1hdGlvbmVuZCcsIGNhbGxCYWNrKTsKICAgIH07CiAgICBFbGVtZW50QW5pbWF0ZVV0aWwuYW5pbWF0aW9uRGVsYXkgPSBmdW5jdGlvbiAoZWxlbWVudCwgdmFsdWUpIHsKICAgICAgICBFbGVtZW50U3R5bGVVdGlsLnNldChlbGVtZW50LCAnYW5pbWF0aW9uLWRlbGF5JywgdmFsdWUpOwogICAgfTsKICAgIEVsZW1lbnRBbmltYXRlVXRpbC5hbmltYXRpb25EdXJhdGlvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCB2YWx1ZSkgewogICAgICAgIEVsZW1lbnRTdHlsZVV0aWwuc2V0KGVsZW1lbnQsICdhbmltYXRpb24tZHVyYXRpb24nLCB2YWx1ZSk7CiAgICB9OwogICAgRWxlbWVudEFuaW1hdGVVdGlsLnNjcm9sbFRvID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9mZnNldCwgZHVyYXRpb24pIHsKICAgICAgICBpZiAoZHVyYXRpb24gPT09IHZvaWQgMCkgeyBkdXJhdGlvbiA9IDUwMDsgfQogICAgICAgIHZhciB0YXJnZXRQb3MgPSBlbGVtZW50ID8gZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KS50b3AgOiAwOwogICAgICAgIHZhciBzY3JvbGxQb3MgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwOwogICAgICAgIGlmIChvZmZzZXQpIHsKICAgICAgICAgICAgc2Nyb2xsUG9zICs9IG9mZnNldDsKICAgICAgICAgICAgdGFyZ2V0UG9zID0gdGFyZ2V0UG9zIC0gb2Zmc2V0OwogICAgICAgIH0KICAgICAgICB2YXIgZnJvbSA9IHNjcm9sbFBvczsKICAgICAgICB2YXIgdG8gPSB0YXJnZXRQb3M7CiAgICAgICAgRWxlbWVudEFuaW1hdGVVdGlsLmFuaW1hdGUoZnJvbSwgdG8sIGR1cmF0aW9uLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IHZhbHVlOwogICAgICAgICAgICAvLyBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsVG9wID0gdmFsdWU7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gdmFsdWU7CiAgICAgICAgfSk7IC8vLCBlYXNpbmcsIGRvbmUKICAgIH07CiAgICBFbGVtZW50QW5pbWF0ZVV0aWwuc2Nyb2xsVG9wID0gZnVuY3Rpb24gKG9mZnNldCwgZHVyYXRpb24pIHsKICAgICAgICBFbGVtZW50QW5pbWF0ZVV0aWwuc2Nyb2xsVG8obnVsbCwgb2Zmc2V0LCBkdXJhdGlvbik7CiAgICB9OwogICAgcmV0dXJuIEVsZW1lbnRBbmltYXRlVXRpbDsKfSgpKTsKZXhwb3J0IHsgRWxlbWVudEFuaW1hdGVVdGlsIH07Cg=="},{"version":3,"file":"/home/valter/work/demo7/src/assets/ts/_utils/ElementAnimateUtil.ts","sourceRoot":"","sources":["/home/valter/work/demo7/node_modules/eslint-loader/index.js??ref--13-0!/home/valter/work/demo7/src/assets/ts/_utils/ElementAnimateUtil.ts"],"names":[],"mappings":"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","sourcesContent":["import {DOMEventHandlerUtil} from './_DOMEventHandlerUtil'\r\nimport {ElementStyleUtil} from './_ElementStyleUtil'\r\nimport {getElementOffset} from './DomHelpers'\r\n\r\nexport class ElementAnimateUtil {\r\n  public static animate(\r\n    from: number,\r\n    to: number,\r\n    duration: number,\r\n    update: Function,\r\n    complete?: Function\r\n  ) {\r\n    /**\r\n     * TinyAnimate.easings\r\n     *  Adapted from jQuery Easing\r\n     */\r\n    const easings = {\r\n      linear: function (t: number, b: number, c: number, d: number) {\r\n        return (c * t) / d + b\r\n      },\r\n    }\r\n\r\n    // Create mock done() function if necessary\r\n    if (!complete) {\r\n      complete = function () {}\r\n    }\r\n\r\n    // Animation loop\r\n    // let canceled = false;\r\n    const change = to - from\r\n\r\n    function loop(timestamp: number) {\r\n      var time = (timestamp || +new Date()) - start\r\n\r\n      if (time >= 0) {\r\n        update(easings.linear(time, from, change, duration))\r\n      }\r\n      if (time >= 0 && time >= duration) {\r\n        update(to)\r\n        if (complete) {\r\n          complete()\r\n        }\r\n      } else {\r\n        window.requestAnimationFrame(loop)\r\n      }\r\n    }\r\n\r\n    update(from)\r\n\r\n    // Start animation loop\r\n    const start =\r\n      window.performance && window.performance.now ? window.performance.now() : +new Date()\r\n\r\n    window.requestAnimationFrame(loop)\r\n  }\r\n\r\n  public static animateClass(\r\n    element: HTMLElement,\r\n    animationName: string,\r\n    callBack?: Function\r\n  ): void {\r\n    const animateClasses = animationName.split(' ')\r\n    animateClasses.forEach((cssClass) => element.classList.add(cssClass))\r\n    DOMEventHandlerUtil.one(element, 'animationend', function () {\r\n      animateClasses.forEach((cssClass) => element.classList.remove(cssClass))\r\n    })\r\n\r\n    if (callBack) {\r\n      DOMEventHandlerUtil.one(element, 'animationend', callBack)\r\n    }\r\n  }\r\n\r\n  public static transitionEnd(element: HTMLElement, callBack: Function) {\r\n    DOMEventHandlerUtil.one(element, 'transitionend', callBack)\r\n  }\r\n\r\n  public static animationEnd(element: HTMLElement, callBack: Function) {\r\n    DOMEventHandlerUtil.one(element, 'animationend', callBack)\r\n  }\r\n\r\n  public static animationDelay(element: HTMLElement, value: string) {\r\n    ElementStyleUtil.set(element, 'animation-delay', value)\r\n  }\r\n\r\n  public static animationDuration(element: HTMLElement, value: string) {\r\n    ElementStyleUtil.set(element, 'animation-duration', value)\r\n  }\r\n\r\n  public static scrollTo(element: HTMLElement | null, offset: number, duration: number = 500) {\r\n    let targetPos = element ? getElementOffset(element).top : 0\r\n    let scrollPos =\r\n      window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0\r\n\r\n    if (offset) {\r\n      scrollPos += offset\r\n      targetPos = targetPos - offset\r\n    }\r\n\r\n    const from = scrollPos\r\n    const to = targetPos\r\n\r\n    ElementAnimateUtil.animate(from, to, duration, function (value: number) {\r\n      document.documentElement.scrollTop = value\r\n      // document.body.parentNode.scrollTop = value;\r\n      document.body.scrollTop = value\r\n    }) //, easing, done\r\n  }\r\n  public static scrollTop(offset: number, duration: number) {\r\n    ElementAnimateUtil.scrollTo(null, offset, duration)\r\n  }\r\n}\r\n"]}]}