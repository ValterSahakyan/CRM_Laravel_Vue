{"remainingRequest":"/home/valter/work/demo7/node_modules/ts-loader/index.js??ref--14-1!/home/valter/work/demo7/node_modules/eslint-loader/index.js??ref--13-0!/home/valter/work/demo7/src/assets/ts/components/_ImageInputComponent.ts","dependencies":[{"path":"/home/valter/work/demo7/src/assets/ts/components/_ImageInputComponent.ts","mtime":1636661312000},{"path":"/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js","mtime":1665764724378},{"path":"/home/valter/work/demo7/node_modules/ts-loader/index.js","mtime":1665764724869},{"path":"/home/valter/work/demo7/node_modules/eslint-loader/index.js","mtime":1665764716618}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRXZlbnRIYW5kbGVyVXRpbCwgRGF0YVV0aWwsIGdldFVuaXF1ZUlkV2l0aFByZWZpeCwgZ2V0Q1NTIH0gZnJvbSAnLi4vX3V0aWxzL2luZGV4JzsKdmFyIGRlZmF1bHRJbWFnZUlucHV0T3B0aW9ucyA9IHt9Owp2YXIgZGVmYXVsdEltYWdlSW5wdXRRdWVpcmVzID0gewogICAgY29tcG9uZW50TmFtZTogJ2ltYWdlLWlucHV0JywKICAgIGluc3RhbnNlUXVlcnk6ICdbZGF0YS1rdC1pbWFnZS1pbnB1dF0nLAogICAgaW5wdXRRdWVyeTogJ2lucHV0W3R5cGU9ImZpbGUiXScsCiAgICB3cmFwcGVyUXVlcnk6ICcuaW1hZ2UtaW5wdXQtd3JhcHBlcicsCiAgICBjYW5jZWxRdWVyeTogJ1tkYXRhLWt0LWltYWdlLWlucHV0LWFjdGlvbj0iY2FuY2VsIl0nLAogICAgcmVtb3ZlUXVlcnk6ICdbZGF0YS1rdC1pbWFnZS1pbnB1dC1hY3Rpb249InJlbW92ZSJdJywKICAgIGhpZGRlblF1ZXJ5OiAnaW5wdXRbdHlwZT0iaGlkZGVuIl0nLAp9Owp2YXIgSW1hZ2VJbnB1dENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEltYWdlSW5wdXRDb21wb25lbnQoX2VsZW1lbnQsIF9vcHRpb25zLCBfcXVlcmllcykgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdGhpcy5zcmMgPSAnJzsKICAgICAgICB0aGlzLnZhbHVlID0gJyc7CiAgICAgICAgLy8gRXZlbnQgSGFuZGxlcnMKICAgICAgICB0aGlzLl9jaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGlmIChfdGhpcy5pbnB1dEVsZW1lbnQgIT09IG51bGwgJiYgX3RoaXMuaW5wdXRFbGVtZW50LmZpbGVzICYmIF90aGlzLmlucHV0RWxlbWVudC5maWxlc1swXSkgewogICAgICAgICAgICAgICAgLy8gRmlyZSBjaGFuZ2UgZXZlbnQKICAgICAgICAgICAgICAgIGlmIChFdmVudEhhbmRsZXJVdGlsLnRyaWdnZXIoX3RoaXMuZWxlbWVudCwgJ2t0LmltYWdlaW5wdXQuY2hhbmdlJywgZSkgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMud3JhcHBlckVsZW1lbnQgJiYgZS50YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMud3JhcHBlckVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtaW1hZ2UnLCAidXJsKCciICsgZS50YXJnZXQucmVzdWx0ICsgIicpIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKF90aGlzLmlucHV0RWxlbWVudC5maWxlc1swXSk7CiAgICAgICAgICAgICAgICBfdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ltYWdlLWlucHV0LWNoYW5nZWQnKTsKICAgICAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW1hZ2UtaW5wdXQtZW1wdHknKTsKICAgICAgICAgICAgICAgIC8vIEZpcmUgcmVtb3ZlZCBldmVudAogICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyVXRpbC50cmlnZ2VyKF90aGlzLmVsZW1lbnQsICdrdC5pbWFnZWlucHV0LmNoYW5nZWQnLCBlKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdGhpcy5fY2FuY2VsID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAvLyBGaXJlIGNhbmNlbCBldmVudAogICAgICAgICAgICBpZiAoRXZlbnRIYW5kbGVyVXRpbC50cmlnZ2VyKF90aGlzLmVsZW1lbnQsICdrdC5pbWFnZWlucHV0LmNhbmNlbCcsIGUpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW1hZ2UtaW5wdXQtY2hhbmdlZCcpOwogICAgICAgICAgICBfdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ltYWdlLWlucHV0LWVtcHR5Jyk7CiAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtaW1hZ2UnLCBfdGhpcy5zcmMpOwogICAgICAgICAgICBpZiAoX3RoaXMuaW5wdXRFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5pbnB1dEVsZW1lbnQudmFsdWUgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoX3RoaXMuaGlkZGVuRWxlbWVudCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgX3RoaXMuaGlkZGVuRWxlbWVudC52YWx1ZSA9ICcwJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBGaXJlIGNhbmNlbGVkIGV2ZW50CiAgICAgICAgICAgIEV2ZW50SGFuZGxlclV0aWwudHJpZ2dlcihfdGhpcy5lbGVtZW50LCAna3QuaW1hZ2VpbnB1dC5jYW5jZWxlZCcsIGUpOwogICAgICAgIH07CiAgICAgICAgdGhpcy5fcmVtb3ZlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAvLyBGaXJlIHJlbW92ZSBldmVudAogICAgICAgICAgICBpZiAoRXZlbnRIYW5kbGVyVXRpbC50cmlnZ2VyKF90aGlzLmVsZW1lbnQsICdrdC5pbWFnZWlucHV0LnJlbW92ZScsIGUpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW1hZ2UtaW5wdXQtY2hhbmdlZCcpOwogICAgICAgICAgICBfdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ltYWdlLWlucHV0LWVtcHR5Jyk7CiAgICAgICAgICAgIGlmIChfdGhpcy53cmFwcGVyRWxlbWVudCkgewogICAgICAgICAgICAgICAgX3RoaXMud3JhcHBlckVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtaW1hZ2UnLCAnbm9uZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfdGhpcy5pbnB1dEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIF90aGlzLmlucHV0RWxlbWVudC52YWx1ZSA9ICcnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfdGhpcy5oaWRkZW5FbGVtZW50ICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5oaWRkZW5FbGVtZW50LnZhbHVlID0gJzEnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIEZpcmUgcmVtb3ZlZCBldmVudAogICAgICAgICAgICBFdmVudEhhbmRsZXJVdGlsLnRyaWdnZXIoX3RoaXMuZWxlbWVudCwgJ2t0LmltYWdlaW5wdXQucmVtb3ZlZCcsIGUpOwogICAgICAgIH07CiAgICAgICAgLy8gRXZlbnQgQVBJCiAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChuYW1lLCBoYW5kbGVyKSB7CiAgICAgICAgICAgIHJldHVybiBFdmVudEhhbmRsZXJVdGlsLm9uKF90aGlzLmVsZW1lbnQsIG5hbWUsIGhhbmRsZXIpOwogICAgICAgIH07CiAgICAgICAgdGhpcy5vbmUgPSBmdW5jdGlvbiAobmFtZSwgaGFuZGxlcikgewogICAgICAgICAgICByZXR1cm4gRXZlbnRIYW5kbGVyVXRpbC5vbmUoX3RoaXMuZWxlbWVudCwgbmFtZSwgaGFuZGxlcik7CiAgICAgICAgfTsKICAgICAgICB0aGlzLm9mZiA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBFdmVudEhhbmRsZXJVdGlsLm9mZihfdGhpcy5lbGVtZW50LCBuYW1lKTsKICAgICAgICB9OwogICAgICAgIHRoaXMudHJpZ2dlciA9IGZ1bmN0aW9uIChuYW1lLCBldmVudCkgewogICAgICAgICAgICByZXR1cm4gRXZlbnRIYW5kbGVyVXRpbC50cmlnZ2VyKF90aGlzLmVsZW1lbnQsIG5hbWUsIGV2ZW50KTsKICAgICAgICB9OwogICAgICAgIC8vIFZhcmlhYmxlcwogICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdEltYWdlSW5wdXRPcHRpb25zLCBfb3B0aW9ucyk7CiAgICAgICAgdGhpcy5xdWVyaWVzID0gX3F1ZXJpZXM7CiAgICAgICAgdGhpcy51aWQgPSBnZXRVbmlxdWVJZFdpdGhQcmVmaXgodGhpcy5xdWVyaWVzLmNvbXBvbmVudE5hbWUpOwogICAgICAgIC8vIEVsZW1lbnRzCiAgICAgICAgdGhpcy5lbGVtZW50ID0gX2VsZW1lbnQ7CiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnF1ZXJpZXMuaW5wdXRRdWVyeSk7CiAgICAgICAgdGhpcy53cmFwcGVyRWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMucXVlcmllcy53cmFwcGVyUXVlcnkpOwogICAgICAgIHRoaXMuY2FuY2VsRWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMucXVlcmllcy5jYW5jZWxRdWVyeSk7CiAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5xdWVyaWVzLnJlbW92ZVF1ZXJ5KTsKICAgICAgICB0aGlzLmhpZGRlbkVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnF1ZXJpZXMuaGlkZGVuUXVlcnkpOwogICAgICAgIGlmICh0aGlzLndyYXBwZXJFbGVtZW50KSB7CiAgICAgICAgICAgIHRoaXMuc3JjID0gZ2V0Q1NTKHRoaXMud3JhcHBlckVsZW1lbnQsICdiYWNrZ3JvdW5kSW1hZ2UnKTsKICAgICAgICB9CiAgICAgICAgLy8gRXZlbnQgSGFuZGxlcnMKICAgICAgICB0aGlzLmhhbmRsZXJzKCk7CiAgICAgICAgRGF0YVV0aWwuc2V0KHRoaXMuZWxlbWVudCwgdGhpcy5xdWVyaWVzLmNvbXBvbmVudE5hbWUsIHRoaXMpOwogICAgfQogICAgSW1hZ2VJbnB1dENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2NoYW5nZSk7CiAgICAgICAgaWYgKHRoaXMuY2FuY2VsRWxlbWVudCkgewogICAgICAgICAgICB0aGlzLmNhbmNlbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jYW5jZWwpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yZW1vdmVFbGVtZW50KSB7CiAgICAgICAgICAgIHRoaXMucmVtb3ZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NhbmNlbCk7CiAgICAgICAgfQogICAgfTsKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvLyAqKiBQdWJsaWMgQVBJICAqKiAvLwogICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgIEltYWdlSW5wdXRDb21wb25lbnQucHJvdG90eXBlLmdldElucHV0RWxlbWVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnQ7CiAgICB9OwogICAgSW1hZ2VJbnB1dENvbXBvbmVudC5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50OwogICAgfTsKICAgIC8vIFN0YXRpYyBtZXRob2RzCiAgICBJbWFnZUlucHV0Q29tcG9uZW50LmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGVsLCBjb21wb25lbnROYW1lKSB7CiAgICAgICAgaWYgKGNvbXBvbmVudE5hbWUgPT09IHZvaWQgMCkgeyBjb21wb25lbnROYW1lID0gZGVmYXVsdEltYWdlSW5wdXRRdWVpcmVzLmNvbXBvbmVudE5hbWU7IH0KICAgICAgICB2YXIgSW1hZ2VJbnB1dCA9IERhdGFVdGlsLmdldChlbCwgY29tcG9uZW50TmFtZSk7CiAgICAgICAgaWYgKEltYWdlSW5wdXQpIHsKICAgICAgICAgICAgcmV0dXJuIEltYWdlSW5wdXQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfTsKICAgIEltYWdlSW5wdXRDb21wb25lbnQuY3JlYXRlSW5zdGFuY2VzID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBvcHRpb25zLCBxdWVyaWVzKSB7CiAgICAgICAgaWYgKHNlbGVjdG9yID09PSB2b2lkIDApIHsgc2VsZWN0b3IgPSBkZWZhdWx0SW1hZ2VJbnB1dFF1ZWlyZXMuaW5zdGFuc2VRdWVyeTsgfQogICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGRlZmF1bHRJbWFnZUlucHV0T3B0aW9uczsgfQogICAgICAgIGlmIChxdWVyaWVzID09PSB2b2lkIDApIHsgcXVlcmllcyA9IGRlZmF1bHRJbWFnZUlucHV0UXVlaXJlczsgfQogICAgICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBlbDsKICAgICAgICAgICAgdmFyIEltYWdlSW5wdXQgPSBJbWFnZUlucHV0Q29tcG9uZW50LmdldEluc3RhbmNlKGl0ZW0pOwogICAgICAgICAgICBpZiAoIUltYWdlSW5wdXQpIHsKICAgICAgICAgICAgICAgIEltYWdlSW5wdXQgPSBuZXcgSW1hZ2VJbnB1dENvbXBvbmVudChpdGVtLCBvcHRpb25zLCBxdWVyaWVzKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfTsKICAgIEltYWdlSW5wdXRDb21wb25lbnQuY3JlYXRlSW5zYW5jZSA9IGZ1bmN0aW9uIChzZWxlY3Rvciwgb3B0aW9ucywgcXVlcmllcykgewogICAgICAgIGlmIChzZWxlY3RvciA9PT0gdm9pZCAwKSB7IHNlbGVjdG9yID0gZGVmYXVsdEltYWdlSW5wdXRRdWVpcmVzLmluc3RhbnNlUXVlcnk7IH0KICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBkZWZhdWx0SW1hZ2VJbnB1dE9wdGlvbnM7IH0KICAgICAgICBpZiAocXVlcmllcyA9PT0gdm9pZCAwKSB7IHF1ZXJpZXMgPSBkZWZhdWx0SW1hZ2VJbnB1dFF1ZWlyZXM7IH0KICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICAgICAgaWYgKCFlbGVtZW50KSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGl0ZW0gPSBlbGVtZW50OwogICAgICAgIHZhciBJbWFnZUlucHV0ID0gSW1hZ2VJbnB1dENvbXBvbmVudC5nZXRJbnN0YW5jZShpdGVtKTsKICAgICAgICBpZiAoIUltYWdlSW5wdXQpIHsKICAgICAgICAgICAgSW1hZ2VJbnB1dCA9IG5ldyBJbWFnZUlucHV0Q29tcG9uZW50KGl0ZW0sIG9wdGlvbnMsIHF1ZXJpZXMpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gSW1hZ2VJbnB1dDsKICAgIH07CiAgICBJbWFnZUlucHV0Q29tcG9uZW50LmJvb3RzdHJhcCA9IGZ1bmN0aW9uIChzZWxlY3RvcikgewogICAgICAgIGlmIChzZWxlY3RvciA9PT0gdm9pZCAwKSB7IHNlbGVjdG9yID0gZGVmYXVsdEltYWdlSW5wdXRRdWVpcmVzLmluc3RhbnNlUXVlcnk7IH0KICAgICAgICBJbWFnZUlucHV0Q29tcG9uZW50LmNyZWF0ZUluc3RhbmNlcyhzZWxlY3Rvcik7CiAgICB9OwogICAgSW1hZ2VJbnB1dENvbXBvbmVudC5yZWluaXRpYWxpemF0aW9uID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgICAgaWYgKHNlbGVjdG9yID09PSB2b2lkIDApIHsgc2VsZWN0b3IgPSBkZWZhdWx0SW1hZ2VJbnB1dFF1ZWlyZXMuaW5zdGFuc2VRdWVyeTsgfQogICAgICAgIEltYWdlSW5wdXRDb21wb25lbnQuY3JlYXRlSW5zdGFuY2VzKHNlbGVjdG9yKTsKICAgIH07CiAgICByZXR1cm4gSW1hZ2VJbnB1dENvbXBvbmVudDsKfSgpKTsKZXhwb3J0IHsgSW1hZ2VJbnB1dENvbXBvbmVudCwgZGVmYXVsdEltYWdlSW5wdXRPcHRpb25zLCBkZWZhdWx0SW1hZ2VJbnB1dFF1ZWlyZXMgfTsK"},{"version":3,"file":"/home/valter/work/demo7/src/assets/ts/components/_ImageInputComponent.ts","sourceRoot":"","sources":["/home/valter/work/demo7/node_modules/eslint-loader/index.js??ref--13-0!/home/valter/work/demo7/src/assets/ts/components/_ImageInputComponent.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,gBAAgB,EAAE,QAAQ,EAAE,qBAAqB,EAAE,MAAM,EAAC,MAAM,iBAAiB,CAAA;AAczF,IAAM,wBAAwB,GAAG,EAAE,CAAA;AAEnC,IAAM,wBAAwB,GAAuB;IACnD,aAAa,EAAE,aAAa;IAC5B,aAAa,EAAE,uBAAuB;IACtC,UAAU,EAAE,oBAAoB;IAChC,YAAY,EAAE,sBAAsB;IACpC,WAAW,EAAE,uCAAuC;IACpD,WAAW,EAAE,uCAAuC;IACpD,WAAW,EAAE,sBAAsB;CACpC,CAAA;AAED;IAaE,6BAAY,QAAqB,EAAE,QAA4B,EAAE,QAA4B;QAA7F,iBAqBC;QA3BD,QAAG,GAAW,EAAE,CAAA;QAIhB,UAAK,GAAW,EAAE,CAAA;QAoClB,iBAAiB;QACT,YAAO,GAAG,UAAC,CAAQ;YACzB,CAAC,CAAC,cAAc,EAAE,CAAA;YAElB,IAAI,KAAI,CAAC,YAAY,KAAK,IAAI,IAAI,KAAI,CAAC,YAAY,CAAC,KAAK,IAAI,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACvF,oBAAoB;gBACpB,IAAI,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,EAAE,sBAAsB,EAAE,CAAC,CAAC,KAAK,KAAK,EAAE;oBAC/E,OAAM;iBACP;gBAED,IAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAA;gBAE/B,MAAM,CAAC,MAAM,GAAG,UAAC,CAA4B;oBAC3C,IAAI,KAAI,CAAC,cAAc,IAAI,CAAC,CAAC,MAAM,EAAE;wBACnC,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,WAAW,CAAC,kBAAkB,EAAE,UAAQ,CAAC,CAAC,MAAM,CAAC,MAAM,OAAI,CAAC,CAAA;qBACvF;gBACH,CAAC,CAAA;gBAED,MAAM,CAAC,aAAa,CAAC,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;gBAChD,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAA;gBACjD,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAA;gBAElD,qBAAqB;gBACrB,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,EAAE,uBAAuB,EAAE,CAAC,CAAC,CAAA;aACnE;QACH,CAAC,CAAA;QAEO,YAAO,GAAG,UAAC,CAAQ;YACzB,CAAC,CAAC,cAAc,EAAE,CAAA;YAElB,oBAAoB;YACpB,IAAI,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,EAAE,sBAAsB,EAAE,CAAC,CAAC,KAAK,KAAK,EAAE;gBAC/E,OAAM;aACP;YAED,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAA;YACpD,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAA;YAClD,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,kBAAkB,EAAE,KAAI,CAAC,GAAG,CAAC,CAAA;YAC5D,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,KAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;aAC7B;YAED,IAAI,KAAI,CAAC,aAAa,KAAK,IAAI,EAAE;gBAC/B,KAAI,CAAC,aAAa,CAAC,KAAK,GAAG,GAAG,CAAA;aAC/B;YAED,sBAAsB;YACtB,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,EAAE,wBAAwB,EAAE,CAAC,CAAC,CAAA;QACrE,CAAC,CAAA;QAEO,YAAO,GAAG,UAAC,CAAQ;YACzB,CAAC,CAAC,cAAc,EAAE,CAAA;YAElB,oBAAoB;YACpB,IAAI,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,EAAE,sBAAsB,EAAE,CAAC,CAAC,KAAK,KAAK,EAAE;gBAC/E,OAAM;aACP;YAED,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAA;YACpD,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAA;YAC/C,IAAI,KAAI,CAAC,cAAc,EAAE;gBACvB,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,WAAW,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAA;aAClE;YAED,IAAI,KAAI,CAAC,YAAY,EAAE;gBACrB,KAAI,CAAC,YAAY,CAAC,KAAK,GAAG,EAAE,CAAA;aAC7B;YAED,IAAI,KAAI,CAAC,aAAa,KAAK,IAAI,EAAE;gBAC/B,KAAI,CAAC,aAAa,CAAC,KAAK,GAAG,GAAG,CAAA;aAC/B;YAED,qBAAqB;YACrB,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,EAAE,uBAAuB,EAAE,CAAC,CAAC,CAAA;QACpE,CAAC,CAAA;QAaD,YAAY;QACL,OAAE,GAAG,UAAC,IAAY,EAAE,OAAiB;YAC1C,OAAO,gBAAgB,CAAC,EAAE,CAAC,KAAI,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,CAAA;QACzD,CAAC,CAAA;QAEM,QAAG,GAAG,UAAC,IAAY,EAAE,OAAiB;YAC3C,OAAO,gBAAgB,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,CAAA;QAC1D,CAAC,CAAA;QAEM,QAAG,GAAG,UAAC,IAAY;YACxB,OAAO,gBAAgB,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;QACjD,CAAC,CAAA;QAEM,YAAO,GAAG,UAAC,IAAY,EAAE,KAAY;YAC1C,OAAO,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;QAC5D,CAAC,CAAA;QAvIC,YAAY;QACZ,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,wBAAwB,EAAE,QAAQ,CAAC,CAAA;QAChE,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAA;QACvB,IAAI,CAAC,GAAG,GAAG,qBAAqB,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAA;QAE5D,WAAW;QACX,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAA;QACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAA;QACvE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAA;QAC3E,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;QACzE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;QACzE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;QACzE,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,iBAAiB,CAAC,CAAA;SAC1D;QAED,iBAAiB;QACjB,IAAI,CAAC,QAAQ,EAAE,CAAA;QAEf,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,CAAA;IAC9D,CAAC;IAEO,sCAAQ,GAAhB;QACE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;QACrD,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;SAC3D;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;SAC3D;IACH,CAAC;IA8ED,uBAAuB;IACvB,uBAAuB;IACvB,uBAAuB;IAChB,6CAAe,GAAtB;QACE,OAAO,IAAI,CAAC,YAAY,CAAA;IAC1B,CAAC;IAEM,wCAAU,GAAjB;QACE,OAAO,IAAI,CAAC,OAAO,CAAA;IACrB,CAAC;IAmBD,iBAAiB;IACH,+BAAW,GAAG,UAC1B,EAAe,EACf,aAA8D;QAA9D,8BAAA,EAAA,gBAAwB,wBAAwB,CAAC,aAAa;QAE9D,IAAM,UAAU,GAAG,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,aAAa,CAAC,CAAA;QAClD,IAAI,UAAU,EAAE;YACd,OAAO,UAAU,CAAA;SAClB;QAED,OAAO,IAAI,CAAA;IACb,CAAC,CAAA;IAEa,mCAAe,GAAG,UAC9B,QAAyD,EACzD,OAAsD,EACtD,OAAsD;QAFtD,yBAAA,EAAA,WAAmB,wBAAwB,CAAC,aAAa;QACzD,wBAAA,EAAA,kCAAsD;QACtD,wBAAA,EAAA,kCAAsD;QAEtD,IAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAA;QACzD,QAAQ,CAAC,OAAO,CAAC,UAAC,EAAE;YAClB,IAAM,IAAI,GAAG,EAAiB,CAAA;YAC9B,IAAI,UAAU,GAAG,mBAAmB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;YACtD,IAAI,CAAC,UAAU,EAAE;gBACf,UAAU,GAAG,IAAI,mBAAmB,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAA;aAC7D;QACH,CAAC,CAAC,CAAA;IACJ,CAAC,CAAA;IAEa,iCAAa,GAAG,UAC5B,QAAyD,EACzD,OAAsD,EACtD,OAAsD;QAFtD,yBAAA,EAAA,WAAmB,wBAAwB,CAAC,aAAa;QACzD,wBAAA,EAAA,kCAAsD;QACtD,wBAAA,EAAA,kCAAsD;QAEtD,IAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;QACrD,IAAI,CAAC,OAAO,EAAE;YACZ,OAAM;SACP;QACD,IAAM,IAAI,GAAG,OAAsB,CAAA;QACnC,IAAI,UAAU,GAAG,mBAAmB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;QACtD,IAAI,CAAC,UAAU,EAAE;YACf,UAAU,GAAG,IAAI,mBAAmB,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAA;SAC7D;QACD,OAAO,UAAU,CAAA;IACnB,CAAC,CAAA;IAEa,6BAAS,GAAG,UAAC,QAAyD;QAAzD,yBAAA,EAAA,WAAmB,wBAAwB,CAAC,aAAa;QAClF,mBAAmB,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAA;IAC/C,CAAC,CAAA;IAEa,oCAAgB,GAAG,UAAC,QAAyD;QAAzD,yBAAA,EAAA,WAAmB,wBAAwB,CAAC,aAAa;QACzF,mBAAmB,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAA;IAC/C,CAAC,CAAA;IACH,0BAAC;CAAA,AA3MD,IA2MC;AACD,OAAO,EAAC,mBAAmB,EAAE,wBAAwB,EAAE,wBAAwB,EAAC,CAAA","sourcesContent":["import {EventHandlerUtil, DataUtil, getUniqueIdWithPrefix, getCSS} from '../_utils/index'\r\n\r\nexport interface IImageInputOptions {}\r\n\r\nexport interface IImageInputQueries {\r\n  componentName: string\r\n  instanseQuery: string\r\n  inputQuery: string\r\n  wrapperQuery: string\r\n  cancelQuery: string\r\n  removeQuery: string\r\n  hiddenQuery: string\r\n}\r\n\r\nconst defaultImageInputOptions = {}\r\n\r\nconst defaultImageInputQueires: IImageInputQueries = {\r\n  componentName: 'image-input',\r\n  instanseQuery: '[data-kt-image-input]',\r\n  inputQuery: 'input[type=\"file\"]',\r\n  wrapperQuery: '.image-input-wrapper',\r\n  cancelQuery: '[data-kt-image-input-action=\"cancel\"]',\r\n  removeQuery: '[data-kt-image-input-action=\"remove\"]',\r\n  hiddenQuery: 'input[type=\"hidden\"]',\r\n}\r\n\r\nclass ImageInputComponent {\r\n  element: HTMLElement\r\n  inputElement: HTMLInputElement | null\r\n  wrapperElement: HTMLElement | null\r\n  cancelElement: HTMLElement | null\r\n  removeElement: HTMLElement | null\r\n  hiddenElement: HTMLInputElement | null\r\n  src: string = ''\r\n  options: IImageInputOptions\r\n  queries: IImageInputQueries\r\n  uid: string\r\n  value: string = ''\r\n\r\n  constructor(_element: HTMLElement, _options: IImageInputOptions, _queries: IImageInputQueries) {\r\n    // Variables\r\n    this.options = Object.assign(defaultImageInputOptions, _options)\r\n    this.queries = _queries\r\n    this.uid = getUniqueIdWithPrefix(this.queries.componentName)\r\n\r\n    // Elements\r\n    this.element = _element\r\n    this.inputElement = this.element.querySelector(this.queries.inputQuery)\r\n    this.wrapperElement = this.element.querySelector(this.queries.wrapperQuery)\r\n    this.cancelElement = this.element.querySelector(this.queries.cancelQuery)\r\n    this.removeElement = this.element.querySelector(this.queries.removeQuery)\r\n    this.hiddenElement = this.element.querySelector(this.queries.hiddenQuery)\r\n    if (this.wrapperElement) {\r\n      this.src = getCSS(this.wrapperElement, 'backgroundImage')\r\n    }\r\n\r\n    // Event Handlers\r\n    this.handlers()\r\n\r\n    DataUtil.set(this.element, this.queries.componentName, this)\r\n  }\r\n\r\n  private handlers(): void {\r\n    this.element.addEventListener('change', this._change)\r\n    if (this.cancelElement) {\r\n      this.cancelElement.addEventListener('click', this._cancel)\r\n    }\r\n\r\n    if (this.removeElement) {\r\n      this.removeElement.addEventListener('click', this._cancel)\r\n    }\r\n  }\r\n\r\n  // Event Handlers\r\n  private _change = (e: Event) => {\r\n    e.preventDefault()\r\n\r\n    if (this.inputElement !== null && this.inputElement.files && this.inputElement.files[0]) {\r\n      // Fire change event\r\n      if (EventHandlerUtil.trigger(this.element, 'kt.imageinput.change', e) === false) {\r\n        return\r\n      }\r\n\r\n      const reader = new FileReader()\r\n\r\n      reader.onload = (e: ProgressEvent<FileReader>) => {\r\n        if (this.wrapperElement && e.target) {\r\n          this.wrapperElement.style.setProperty('background-image', `url('${e.target.result}')`)\r\n        }\r\n      }\r\n\r\n      reader.readAsDataURL(this.inputElement.files[0])\r\n      this.element.classList.add('image-input-changed')\r\n      this.element.classList.remove('image-input-empty')\r\n\r\n      // Fire removed event\r\n      EventHandlerUtil.trigger(this.element, 'kt.imageinput.changed', e)\r\n    }\r\n  }\r\n\r\n  private _cancel = (e: Event) => {\r\n    e.preventDefault()\r\n\r\n    // Fire cancel event\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.imageinput.cancel', e) === false) {\r\n      return\r\n    }\r\n\r\n    this.element.classList.remove('image-input-changed')\r\n    this.element.classList.remove('image-input-empty')\r\n    this.element.style.setProperty('background-image', this.src)\r\n    if (this.inputElement) {\r\n      this.inputElement.value = ''\r\n    }\r\n\r\n    if (this.hiddenElement !== null) {\r\n      this.hiddenElement.value = '0'\r\n    }\r\n\r\n    // Fire canceled event\r\n    EventHandlerUtil.trigger(this.element, 'kt.imageinput.canceled', e)\r\n  }\r\n\r\n  private _remove = (e: Event) => {\r\n    e.preventDefault()\r\n\r\n    // Fire remove event\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.imageinput.remove', e) === false) {\r\n      return\r\n    }\r\n\r\n    this.element.classList.remove('image-input-changed')\r\n    this.element.classList.add('image-input-empty')\r\n    if (this.wrapperElement) {\r\n      this.wrapperElement.style.setProperty('background-image', 'none')\r\n    }\r\n\r\n    if (this.inputElement) {\r\n      this.inputElement.value = ''\r\n    }\r\n\r\n    if (this.hiddenElement !== null) {\r\n      this.hiddenElement.value = '1'\r\n    }\r\n\r\n    // Fire removed event\r\n    EventHandlerUtil.trigger(this.element, 'kt.imageinput.removed', e)\r\n  }\r\n\r\n  ///////////////////////\r\n  // ** Public API  ** //\r\n  ///////////////////////\r\n  public getInputElement(): HTMLInputElement | null {\r\n    return this.inputElement\r\n  }\r\n\r\n  public getElement(): HTMLElement {\r\n    return this.element\r\n  }\r\n\r\n  // Event API\r\n  public on = (name: string, handler: Function) => {\r\n    return EventHandlerUtil.on(this.element, name, handler)\r\n  }\r\n\r\n  public one = (name: string, handler: Function) => {\r\n    return EventHandlerUtil.one(this.element, name, handler)\r\n  }\r\n\r\n  public off = (name: string) => {\r\n    return EventHandlerUtil.off(this.element, name)\r\n  }\r\n\r\n  public trigger = (name: string, event: Event) => {\r\n    return EventHandlerUtil.trigger(this.element, name, event)\r\n  }\r\n\r\n  // Static methods\r\n  public static getInstance = (\r\n    el: HTMLElement,\r\n    componentName: string = defaultImageInputQueires.componentName\r\n  ) => {\r\n    const ImageInput = DataUtil.get(el, componentName)\r\n    if (ImageInput) {\r\n      return ImageInput\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  public static createInstances = (\r\n    selector: string = defaultImageInputQueires.instanseQuery,\r\n    options: IImageInputOptions = defaultImageInputOptions,\r\n    queries: IImageInputQueries = defaultImageInputQueires\r\n  ) => {\r\n    const elements = document.body.querySelectorAll(selector)\r\n    elements.forEach((el) => {\r\n      const item = el as HTMLElement\r\n      let ImageInput = ImageInputComponent.getInstance(item)\r\n      if (!ImageInput) {\r\n        ImageInput = new ImageInputComponent(item, options, queries)\r\n      }\r\n    })\r\n  }\r\n\r\n  public static createInsance = (\r\n    selector: string = defaultImageInputQueires.instanseQuery,\r\n    options: IImageInputOptions = defaultImageInputOptions,\r\n    queries: IImageInputQueries = defaultImageInputQueires\r\n  ): ImageInputComponent | undefined => {\r\n    const element = document.body.querySelector(selector)\r\n    if (!element) {\r\n      return\r\n    }\r\n    const item = element as HTMLElement\r\n    let ImageInput = ImageInputComponent.getInstance(item)\r\n    if (!ImageInput) {\r\n      ImageInput = new ImageInputComponent(item, options, queries)\r\n    }\r\n    return ImageInput\r\n  }\r\n\r\n  public static bootstrap = (selector: string = defaultImageInputQueires.instanseQuery) => {\r\n    ImageInputComponent.createInstances(selector)\r\n  }\r\n\r\n  public static reinitialization = (selector: string = defaultImageInputQueires.instanseQuery) => {\r\n    ImageInputComponent.createInstances(selector)\r\n  }\r\n}\r\nexport {ImageInputComponent, defaultImageInputOptions, defaultImageInputQueires}\r\n"]}]}