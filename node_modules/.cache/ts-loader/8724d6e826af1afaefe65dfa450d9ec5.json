{"remainingRequest":"/home/valter/work/demo7/node_modules/ts-loader/index.js??ref--14-1!/home/valter/work/demo7/node_modules/eslint-loader/index.js??ref--13-0!/home/valter/work/demo7/src/assets/ts/components/SearchComponent.ts","dependencies":[{"path":"/home/valter/work/demo7/src/assets/ts/components/SearchComponent.ts","mtime":1636661312000},{"path":"/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js","mtime":1665764724378},{"path":"/home/valter/work/demo7/node_modules/ts-loader/index.js","mtime":1665764724869},{"path":"/home/valter/work/demo7/node_modules/eslint-loader/index.js","mtime":1665764716618}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRXZlbnRIYW5kbGVyVXRpbCwgRGF0YVV0aWwsIGdldEJyZWFrcG9pbnQsIGdldEF0dHJpYnV0ZVZhbHVlQnlCcmVha3BvaW50LCBzdHJpbmdTbmFrZVRvQ2FtZWwsIGdldE9iamVjdFByb3BlcnR5VmFsdWVCeUtleSwgZ2V0Vmlld1BvcnQsIGlzVmlzaWJsZUVsZW1lbnQsIHRocm90dGxlLCB9IGZyb20gJy4uL191dGlscy9pbmRleCc7CmltcG9ydCB7IE1lbnVDb21wb25lbnQsIGRlZmF1bHRNZW51T3B0aW9ucyB9IGZyb20gJy4vTWVudUNvbXBvbmVudCc7CnZhciBkZWZhdWx0U2VhcmNoT3B0aW9ucyA9IHsKICAgIG1pbkxlbmd0aDogMiwKICAgIGtleXByZXNzOiB0cnVlLAogICAgZW50ZXI6IHRydWUsCiAgICBsYXlvdXQ6ICdtZW51JywKICAgIHNob3dPbkZvY3VzOiB0cnVlLAp9Owp2YXIgZGVmYXVsdFNlYXJjaFF1ZWlyZXMgPSB7CiAgICBjb21wb25lbnROYW1lOiAnc2VhcmNoJywKICAgIGluc3RhbnNlUXVlcnk6ICdbZGF0YS1rdC1zZWFyY2hdJywKICAgIGF0dHJRdWVyeTogJ2RhdGEta3Qtc2VhcmNoLScsCn07CnZhciBTZWFyY2hDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBTZWFyY2hDb21wb25lbnQoX2VsZW1lbnQsIF9vcHRpb25zLCBfcXVlcmllcykgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdGhpcy5wcm9jZXNzaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5fZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWt0LXNlYXJjaC1lbGVtZW50PSInICsgbmFtZSArICciXScpOwogICAgICAgIH07CiAgICAgICAgLy8gR2V0IG9wdGlvbgogICAgICAgIHRoaXMuZ2V0T3B0aW9uID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgdmFyIGF0dHIgPSBfdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgiIiArIF90aGlzLnF1ZXJpZXMuYXR0clF1ZXJ5ICsgbmFtZSk7CiAgICAgICAgICAgIGlmIChhdHRyKSB7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXRBdHRyaWJ1dGVWYWx1ZUJ5QnJlYWtwb2ludChhdHRyKTsKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiBTdHJpbmcodmFsdWUpID09PSAndHJ1ZScpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSBudWxsICYmIFN0cmluZyh2YWx1ZSkgPT09ICdmYWxzZScpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uTmFtZSA9IHN0cmluZ1NuYWtlVG9DYW1lbChuYW1lKTsKICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBnZXRPYmplY3RQcm9wZXJ0eVZhbHVlQnlLZXkoX3RoaXMub3B0aW9ucywgb3B0aW9uTmFtZSk7CiAgICAgICAgICAgICAgICBpZiAob3B0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZVZhbHVlQnlCcmVha3BvaW50KG9wdGlvbik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgLy8gQ2hlY2sgaWYgcmVzcG9uc2l2ZSBmb3JtIG1vZGUgaXMgZW5hYmxlZAogICAgICAgIHRoaXMuZ2V0UmVzcG9uc2l2ZUZvcm1Nb2RlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcmVzcG9uc2l2ZSA9IF90aGlzLmdldE9wdGlvbigncmVzcG9uc2l2ZScpOwogICAgICAgICAgICB2YXIgd2lkdGggPSBnZXRWaWV3UG9ydCgpLndpZHRoOwogICAgICAgICAgICBpZiAoIXJlc3BvbnNpdmUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBicmVha3BvaW50ID0gZ2V0QnJlYWtwb2ludChyZXNwb25zaXZlKTsKICAgICAgICAgICAgdmFyIGJyZWFrUG9pbnROdW0gPSAtMTsKICAgICAgICAgICAgaWYgKCFicmVha3BvaW50KSB7CiAgICAgICAgICAgICAgICBicmVha1BvaW50TnVtID0gcGFyc2VJbnQocmVzcG9uc2l2ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBicmVha1BvaW50TnVtID0gK2JyZWFrcG9pbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHdpZHRoIDwgYnJlYWtQb2ludE51bSkgewogICAgICAgICAgICAgICAgcmV0dXJuICdvbic7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ29mZic7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIC8vIEZvY3VzCiAgICAgICAgdGhpcy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmb2N1cycpOwogICAgICAgICAgICBpZiAoX3RoaXMuZ2V0T3B0aW9uKCdzaG93LW9uLWZvY3VzJykgPT09IHRydWUgfHwKICAgICAgICAgICAgICAgIF90aGlzLmlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGggPj0gX3RoaXMub3B0aW9ucy5taW5MZW5ndGgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgLy8gQmx1cgogICAgICAgIHRoaXMuYmx1ciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpOwogICAgICAgIH07CiAgICAgICAgLy8gRW50ZXIKICAgICAgICB0aGlzLmVudGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIGtleSA9IGUuY2hhckNvZGUgfHwgZS5rZXlDb2RlIHx8IDA7CiAgICAgICAgICAgIGlmIChrZXkgPT09IDEzKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBfdGhpcy5zZWFyY2goKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgLy8gSW5wdXQKICAgICAgICB0aGlzLmlucHV0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoX3RoaXMuZ2V0T3B0aW9uKCdtaW4tbGVuZ3RoJykpIHsKICAgICAgICAgICAgICAgIHZhciBtaW5MZW5ndGggPSBwYXJzZUludChfdGhpcy5nZXRPcHRpb24oJ21pbi1sZW5ndGgnKSk7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaW5wdXRFbGVtZW50LnZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWFyY2goKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLmlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbGVhcigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAgIC8vICoqIFB1YmxpYyBBUEkgICoqIC8vCiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgICAvLyBVcGRhdGUKICAgICAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gSGFuZGxlIHJlc3BvbnNpdmUgZm9ybQogICAgICAgICAgICBpZiAoX3RoaXMubGF5b3V0ID09PSAnbWVudScpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwb25zaXZlRm9ybU1vZGUgPSBfdGhpcy5nZXRSZXNwb25zaXZlRm9ybU1vZGUoKTsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zaXZlRm9ybU1vZGUgPT09ICdvbicgJiYgX3RoaXMuY29udGVudEVsZW1lbnQuY29udGFpbnMoX3RoaXMuZm9ybUVsZW1lbnQpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbnRlbnRFbGVtZW50LnByZXBlbmQoX3RoaXMuZm9ybUVsZW1lbnQpOwogICAgICAgICAgICAgICAgICAgIF90aGlzLmZvcm1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzcG9uc2l2ZUZvcm1Nb2RlID09PSAnb2ZmJyAmJgogICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbnRlbnRFbGVtZW50LmNvbnRhaW5zKF90aGlzLmZvcm1FbGVtZW50KSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmVsZW1lbnQucHJlcGVuZChfdGhpcy5mb3JtRWxlbWVudCk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZm9ybUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIC8vIFNob3cgbWVudQogICAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLm1lbnVPYmplY3QpIHsKICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpOwogICAgICAgICAgICAgICAgX3RoaXMubWVudU9iamVjdC5zaG93KF90aGlzLmVsZW1lbnQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAvLyBIaWRlIG1lbnUKICAgICAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5tZW51T2JqZWN0KSB7CiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUoKTsKICAgICAgICAgICAgICAgIF90aGlzLm1lbnVPYmplY3QuaGlkZShfdGhpcy5lbGVtZW50KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgLy8gU2VhcmNoCiAgICAgICAgdGhpcy5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9jZXNzaW5nID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgLy8gU2hvdyBzZWFyY2ggc3Bpbm5lcgogICAgICAgICAgICAgICAgaWYgKF90aGlzLnNwaW5uZXJFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Bpbm5lckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBIaWRlIHNlYXJjaCBjbGVhciBidXR0b24KICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jbGVhckVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbGVhckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBIaWRlIHNlYXJjaCB0b29sYmFyCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudG9vbGJhckVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy50b29sYmFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIEZvY3VzIGlucHV0CiAgICAgICAgICAgICAgICBfdGhpcy5pbnB1dEVsZW1lbnQuZm9jdXMoKTsKICAgICAgICAgICAgICAgIF90aGlzLnByb2Nlc3NpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyVXRpbC50cmlnZ2VyKF90aGlzLmVsZW1lbnQsICdrdC5zZWFyY2gucHJvY2VzcycpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAvLyBDb21wbGV0ZQogICAgICAgIHRoaXMuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5zcGlubmVyRWxlbWVudCkgewogICAgICAgICAgICAgICAgX3RoaXMuc3Bpbm5lckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gU2hvdyBzZWFyY2ggdG9vbGJhcgogICAgICAgICAgICBpZiAoX3RoaXMuY2xlYXJFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBfdGhpcy5jbGVhckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKF90aGlzLmlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIF90aGlzLmNsZWFyKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gRm9jdXMgaW5wdXQKICAgICAgICAgICAgX3RoaXMuaW5wdXRFbGVtZW50LmZvY3VzKCk7CiAgICAgICAgICAgIF90aGlzLnNob3coKTsKICAgICAgICAgICAgX3RoaXMucHJvY2Vzc2luZyA9IGZhbHNlOwogICAgICAgIH07CiAgICAgICAgLy8gQ2xlYXIKICAgICAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoRXZlbnRIYW5kbGVyVXRpbC50cmlnZ2VyKF90aGlzLmVsZW1lbnQsICdrdC5zZWFyY2guY2xlYXInKSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBDbGVhciBhbmQgZm9jdXMgaW5wdXQKICAgICAgICAgICAgX3RoaXMuaW5wdXRFbGVtZW50LnZhbHVlID0gJyc7CiAgICAgICAgICAgIF90aGlzLmlucHV0RWxlbWVudC5mb2N1cygpOwogICAgICAgICAgICAvLyBIaWRlIGNsZWFyIGljb24KICAgICAgICAgICAgaWYgKF90aGlzLmNsZWFyRWxlbWVudCkgewogICAgICAgICAgICAgICAgX3RoaXMuY2xlYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFNob3cgc2VhcmNoIHRvb2xiYXIKICAgICAgICAgICAgaWYgKF90aGlzLnRvb2xiYXJFbGVtZW50KSB7CiAgICAgICAgICAgICAgICBfdGhpcy50b29sYmFyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBIaWRlIG1lbnUKICAgICAgICAgICAgaWYgKF90aGlzLmdldE9wdGlvbignc2hvdy1vbi1mb2N1cycpID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIEV2ZW50SGFuZGxlclV0aWwudHJpZ2dlcihfdGhpcy5lbGVtZW50LCAna3Quc2VhcmNoLmNsZWFyZWQnKTsKICAgICAgICB9OwogICAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvY2Vzc2luZzsKICAgICAgICB9OwogICAgICAgIHRoaXMuZ2V0UXVlcnkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbnB1dEVsZW1lbnQudmFsdWU7CiAgICAgICAgfTsKICAgICAgICB0aGlzLmdldE1lbnUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5tZW51T2JqZWN0OwogICAgICAgIH07CiAgICAgICAgdGhpcy5nZXRGb3JtRWxlbWVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZvcm1FbGVtZW50OwogICAgICAgIH07CiAgICAgICAgLy8gRXZlbnQgQVBJCiAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChuYW1lLCBoYW5kbGVyKSB7CiAgICAgICAgICAgIHJldHVybiBFdmVudEhhbmRsZXJVdGlsLm9uKF90aGlzLmVsZW1lbnQsIG5hbWUsIGhhbmRsZXIpOwogICAgICAgIH07CiAgICAgICAgdGhpcy5vbmUgPSBmdW5jdGlvbiAobmFtZSwgaGFuZGxlcikgewogICAgICAgICAgICByZXR1cm4gRXZlbnRIYW5kbGVyVXRpbC5vbmUoX3RoaXMuZWxlbWVudCwgbmFtZSwgaGFuZGxlcik7CiAgICAgICAgfTsKICAgICAgICB0aGlzLm9mZiA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBFdmVudEhhbmRsZXJVdGlsLm9mZihfdGhpcy5lbGVtZW50LCBuYW1lKTsKICAgICAgICB9OwogICAgICAgIC8vIFZhcmlhYmxlcwogICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdFNlYXJjaE9wdGlvbnMsIF9vcHRpb25zKTsKICAgICAgICB0aGlzLnF1ZXJpZXMgPSBfcXVlcmllczsKICAgICAgICAvLyBFbGVtZW50cwogICAgICAgIHRoaXMuZWxlbWVudCA9IF9lbGVtZW50OwogICAgICAgIHRoaXMuY29udGVudEVsZW1lbnQgPSB0aGlzLl9nZXRFbGVtZW50KCdjb250ZW50Jyk7CiAgICAgICAgdGhpcy5mb3JtRWxlbWVudCA9IHRoaXMuX2dldEVsZW1lbnQoJ2Zvcm0nKTsKICAgICAgICB0aGlzLmlucHV0RWxlbWVudCA9IHRoaXMuX2dldEVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgdGhpcy5zcGlubmVyRWxlbWVudCA9IHRoaXMuX2dldEVsZW1lbnQoJ3NwaW5uZXInKTsKICAgICAgICB0aGlzLmNsZWFyRWxlbWVudCA9IHRoaXMuX2dldEVsZW1lbnQoJ2NsZWFyJyk7CiAgICAgICAgdGhpcy50b2dnbGVFbGVtZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgndG9nZ2xlJyk7CiAgICAgICAgdGhpcy5zdWJtaXRFbGVtZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgnc3VibWl0Jyk7CiAgICAgICAgdGhpcy50b29sYmFyRWxlbWVudCA9IHRoaXMuX2dldEVsZW1lbnQoJ3Rvb2xiYXInKTsKICAgICAgICB0aGlzLnJlc3VsdHNFbGVtZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgncmVzdWx0cycpOwogICAgICAgIHRoaXMuc3VnZ2VzdGlvbkVsZW1lbnQgPSB0aGlzLl9nZXRFbGVtZW50KCdzdWdnZXN0aW9uJyk7CiAgICAgICAgdGhpcy5lbXB0eUVsZW1lbnQgPSB0aGlzLl9nZXRFbGVtZW50KCdlbXB0eScpOwogICAgICAgIC8vIExheW91dAogICAgICAgIHRoaXMubGF5b3V0ID0gdGhpcy5nZXRPcHRpb24oJ2xheW91dCcpOwogICAgICAgIGlmICh0aGlzLmxheW91dCA9PT0gJ21lbnUnKSB7CiAgICAgICAgICAgIHRoaXMubWVudU9iamVjdCA9IG5ldyBNZW51Q29tcG9uZW50KHRoaXMuY29udGVudEVsZW1lbnQsIGRlZmF1bHRNZW51T3B0aW9ucyk7CiAgICAgICAgfQogICAgICAgIC8vIFVwZGF0ZQogICAgICAgIHRoaXMudXBkYXRlKCk7CiAgICAgICAgLy8gRXZlbnQgSGFuZGxlcnMKICAgICAgICB0aGlzLmhhbmRsZXJzKCk7CiAgICAgICAgRGF0YVV0aWwuc2V0KHRoaXMuZWxlbWVudCwgdGhpcy5xdWVyaWVzLmNvbXBvbmVudE5hbWUsIHRoaXMpOwogICAgfQogICAgU2VhcmNoQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVycyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIC8vIEZvY3VzCiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmZvY3VzKTsKICAgICAgICAvLyBCbHVyCiAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuYmx1cik7CiAgICAgICAgLy8gS2V5cHJlc3MKICAgICAgICBpZiAodGhpcy5nZXRPcHRpb24oJ2tleXByZXNzJykgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmlucHV0KTsKICAgICAgICB9CiAgICAgICAgLy8gU3VibWl0CiAgICAgICAgaWYgKHRoaXMuc3VibWl0RWxlbWVudCkgewogICAgICAgICAgICB0aGlzLnN1Ym1pdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNlYXJjaCk7CiAgICAgICAgfQogICAgICAgIC8vIEVudGVyCiAgICAgICAgaWYgKHRoaXMuZ2V0T3B0aW9uKCdlbnRlcicpID09PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5lbnRlcik7CiAgICAgICAgfQogICAgICAgIC8vIENsZWFyCiAgICAgICAgaWYgKHRoaXMuY2xlYXJFbGVtZW50KSB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGVhcik7CiAgICAgICAgfQogICAgICAgIC8vIE1lbnUKICAgICAgICBpZiAodGhpcy5tZW51T2JqZWN0KSB7CiAgICAgICAgICAgIC8vIFRvZ2dsZSBtZW51CiAgICAgICAgICAgIGlmICh0aGlzLnRvZ2dsZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvdyk7CiAgICAgICAgICAgICAgICB0aGlzLm1lbnVPYmplY3Qub24oJ2t0Lm1lbnUuZHJvcGRvd24uc2hvdycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmlzaWJsZUVsZW1lbnQodGhpcy50b2dnbGVFbGVtZW50KSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5tZW51T2JqZWN0Lm9uKCdrdC5tZW51LmRyb3Bkb3duLmhpZGUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQogICAgICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGVFbGVtZW50KHRoaXMudG9nZ2xlRWxlbWVudCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLm1lbnVPYmplY3Qub24oJ2t0Lm1lbnUuZHJvcGRvd24uc2hvd24nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlCiAgICAgICAgICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5mb2N1cygpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgLy8gV2luZG93IHJlc2l6ZSBoYW5kbGluZwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB0aW1lcjsKICAgICAgICAgICAgdGhyb3R0bGUodGltZXIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpOwogICAgICAgICAgICB9LCAyMDApOwogICAgICAgIH0pOwogICAgfTsKICAgIFNlYXJjaENvbXBvbmVudC5wcm90b3R5cGUuZ2V0SW5wdXRFbGVtZW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmlucHV0RWxlbWVudDsKICAgIH07CiAgICBTZWFyY2hDb21wb25lbnQucHJvdG90eXBlLmdldENvbnRlbnRFbGVtZW50ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRFbGVtZW50OwogICAgfTsKICAgIFNlYXJjaENvbXBvbmVudC5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50OwogICAgfTsKICAgIC8vIFN0YXRpYyBtZXRob2RzCiAgICBTZWFyY2hDb21wb25lbnQuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoZWwsIGNvbXBvbmVudE5hbWUpIHsKICAgICAgICBpZiAoY29tcG9uZW50TmFtZSA9PT0gdm9pZCAwKSB7IGNvbXBvbmVudE5hbWUgPSBkZWZhdWx0U2VhcmNoUXVlaXJlcy5jb21wb25lbnROYW1lOyB9CiAgICAgICAgdmFyIFNlYXJjaCA9IERhdGFVdGlsLmdldChlbCwgY29tcG9uZW50TmFtZSk7CiAgICAgICAgaWYgKFNlYXJjaCkgewogICAgICAgICAgICByZXR1cm4gU2VhcmNoOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH07CiAgICBTZWFyY2hDb21wb25lbnQuY3JlYXRlSW5zdGFuY2VzID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBvcHRpb25zLCBxdWVyaWVzKSB7CiAgICAgICAgaWYgKHNlbGVjdG9yID09PSB2b2lkIDApIHsgc2VsZWN0b3IgPSBkZWZhdWx0U2VhcmNoUXVlaXJlcy5pbnN0YW5zZVF1ZXJ5OyB9CiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gZGVmYXVsdFNlYXJjaE9wdGlvbnM7IH0KICAgICAgICBpZiAocXVlcmllcyA9PT0gdm9pZCAwKSB7IHF1ZXJpZXMgPSBkZWZhdWx0U2VhcmNoUXVlaXJlczsgfQogICAgICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBlbDsKICAgICAgICAgICAgdmFyIFNlYXJjaCA9IFNlYXJjaENvbXBvbmVudC5nZXRJbnN0YW5jZShpdGVtKTsKICAgICAgICAgICAgaWYgKCFTZWFyY2gpIHsKICAgICAgICAgICAgICAgIFNlYXJjaCA9IG5ldyBTZWFyY2hDb21wb25lbnQoaXRlbSwgb3B0aW9ucywgcXVlcmllcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CiAgICBTZWFyY2hDb21wb25lbnQuY3JlYXRlSW5zYW5jZSA9IGZ1bmN0aW9uIChzZWxlY3Rvciwgb3B0aW9ucywgcXVlcmllcykgewogICAgICAgIGlmIChzZWxlY3RvciA9PT0gdm9pZCAwKSB7IHNlbGVjdG9yID0gZGVmYXVsdFNlYXJjaFF1ZWlyZXMuaW5zdGFuc2VRdWVyeTsgfQogICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGRlZmF1bHRTZWFyY2hPcHRpb25zOyB9CiAgICAgICAgaWYgKHF1ZXJpZXMgPT09IHZvaWQgMCkgeyBxdWVyaWVzID0gZGVmYXVsdFNlYXJjaFF1ZWlyZXM7IH0KICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICAgICAgaWYgKCFlbGVtZW50KSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGl0ZW0gPSBlbGVtZW50OwogICAgICAgIHZhciBTZWFyY2ggPSBTZWFyY2hDb21wb25lbnQuZ2V0SW5zdGFuY2UoaXRlbSk7CiAgICAgICAgaWYgKCFTZWFyY2gpIHsKICAgICAgICAgICAgU2VhcmNoID0gbmV3IFNlYXJjaENvbXBvbmVudChpdGVtLCBvcHRpb25zLCBxdWVyaWVzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFNlYXJjaDsKICAgIH07CiAgICBTZWFyY2hDb21wb25lbnQuYm9vdHN0cmFwID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgICAgaWYgKHNlbGVjdG9yID09PSB2b2lkIDApIHsgc2VsZWN0b3IgPSBkZWZhdWx0U2VhcmNoUXVlaXJlcy5pbnN0YW5zZVF1ZXJ5OyB9CiAgICAgICAgU2VhcmNoQ29tcG9uZW50LmNyZWF0ZUluc3RhbmNlcyhzZWxlY3Rvcik7CiAgICB9OwogICAgU2VhcmNoQ29tcG9uZW50LnJlaW5pdGlhbGl6YXRpb24gPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICBpZiAoc2VsZWN0b3IgPT09IHZvaWQgMCkgeyBzZWxlY3RvciA9IGRlZmF1bHRTZWFyY2hRdWVpcmVzLmluc3RhbnNlUXVlcnk7IH0KICAgICAgICBTZWFyY2hDb21wb25lbnQuY3JlYXRlSW5zdGFuY2VzKHNlbGVjdG9yKTsKICAgIH07CiAgICByZXR1cm4gU2VhcmNoQ29tcG9uZW50Owp9KCkpOwpleHBvcnQgeyBTZWFyY2hDb21wb25lbnQsIGRlZmF1bHRTZWFyY2hPcHRpb25zLCBkZWZhdWx0U2VhcmNoUXVlaXJlcyB9Owo="},{"version":3,"file":"/home/valter/work/demo7/src/assets/ts/components/SearchComponent.ts","sourceRoot":"","sources":["/home/valter/work/demo7/node_modules/eslint-loader/index.js??ref--13-0!/home/valter/work/demo7/src/assets/ts/components/SearchComponent.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  EventHandlerUtil,\r\n  DataUtil,\r\n  getBreakpoint,\r\n  getAttributeValueByBreakpoint,\r\n  stringSnakeToCamel,\r\n  getObjectPropertyValueByKey,\r\n  getViewPort,\r\n  isVisibleElement,\r\n  throttle,\r\n} from '../_utils/index'\r\n\r\nimport {MenuComponent, defaultMenuOptions} from './MenuComponent'\r\n\r\nexport interface ISearchOptions {\r\n  minLength: number // Miniam text lenght to query search\r\n  keypress: boolean // Enable search on keypress\r\n  enter: boolean // Enable search on enter key press\r\n  layout: 'menu' | 'inline' // Use 'menu' or 'inline' layout options to display search results\r\n  responsive?: number // Pass integer value or bootstrap compatible breakpoint key(sm,md,lg,xl,xxl) to enable reponsive form mode for device width below the breakpoint value\r\n  showOnFocus: boolean // Always show menu on input focus\r\n}\r\n\r\nexport interface ISearchQueries {\r\n  componentName: string\r\n  instanseQuery: string\r\n  attrQuery: string\r\n}\r\n\r\nconst defaultSearchOptions: ISearchOptions = {\r\n  minLength: 2, // Miniam text lenght to query search\r\n  keypress: true, // Enable search on keypress\r\n  enter: true, // Enable search on enter key press\r\n  layout: 'menu', // Use 'menu' or 'inline' layout options to display search results\r\n  showOnFocus: true, // Always show menu on input focus\r\n}\r\n\r\nconst defaultSearchQueires: ISearchQueries = {\r\n  componentName: 'search',\r\n  instanseQuery: '[data-kt-search]',\r\n  attrQuery: 'data-kt-search-',\r\n}\r\n\r\nclass SearchComponent {\r\n  element: HTMLElement\r\n  contentElement: HTMLElement\r\n  formElement: HTMLFormElement\r\n  inputElement: HTMLInputElement\r\n  spinnerElement: HTMLElement\r\n  clearElement: HTMLElement\r\n  toggleElement: HTMLElement\r\n  submitElement: HTMLElement\r\n  toolbarElement: HTMLElement\r\n  resultsElement: HTMLElement\r\n  suggestionElement: HTMLElement\r\n  emptyElement: HTMLElement\r\n  layout: any\r\n\r\n  options: ISearchOptions\r\n  queries: ISearchQueries\r\n\r\n  processing: boolean = false\r\n  menuObject: MenuComponent | undefined\r\n\r\n  constructor(_element: HTMLElement, _options: ISearchOptions, _queries: ISearchQueries) {\r\n    // Variables\r\n    this.options = Object.assign(defaultSearchOptions, _options)\r\n    this.queries = _queries\r\n\r\n    // Elements\r\n    this.element = _element\r\n    this.contentElement = this._getElement('content') as HTMLElement\r\n    this.formElement = this._getElement('form') as HTMLFormElement\r\n    this.inputElement = this._getElement('input') as HTMLInputElement\r\n    this.spinnerElement = this._getElement('spinner') as HTMLElement\r\n    this.clearElement = this._getElement('clear') as HTMLElement\r\n    this.toggleElement = this._getElement('toggle') as HTMLElement\r\n    this.submitElement = this._getElement('submit') as HTMLElement\r\n    this.toolbarElement = this._getElement('toolbar') as HTMLElement\r\n\r\n    this.resultsElement = this._getElement('results') as HTMLElement\r\n    this.suggestionElement = this._getElement('suggestion') as HTMLElement\r\n    this.emptyElement = this._getElement('empty') as HTMLElement\r\n\r\n    // Layout\r\n    this.layout = this.getOption('layout')\r\n    if (this.layout === 'menu') {\r\n      this.menuObject = new MenuComponent(this.contentElement, defaultMenuOptions)\r\n    }\r\n\r\n    // Update\r\n    this.update()\r\n\r\n    // Event Handlers\r\n    this.handlers()\r\n\r\n    DataUtil.set(this.element, this.queries.componentName, this)\r\n  }\r\n\r\n  private _getElement = (name: string) => {\r\n    return this.element.querySelector('[data-kt-search-element=\"' + name + '\"]')\r\n  }\r\n\r\n  // Get option\r\n  private getOption = (name: string) => {\r\n    const attr = this.element.getAttribute(`${this.queries.attrQuery}${name}`)\r\n    if (attr) {\r\n      let value = getAttributeValueByBreakpoint(attr)\r\n\r\n      if (value !== null && String(value) === 'true') {\r\n        return true\r\n      } else if (value !== null && String(value) === 'false') {\r\n        return false\r\n      }\r\n\r\n      return value\r\n    } else {\r\n      const optionName = stringSnakeToCamel(name)\r\n\r\n      const option = getObjectPropertyValueByKey(this.options, optionName)\r\n      if (option) {\r\n        return getAttributeValueByBreakpoint(option)\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  }\r\n\r\n  // Check if responsive form mode is enabled\r\n  private getResponsiveFormMode = () => {\r\n    const responsive = this.getOption('responsive') as string\r\n    const width = getViewPort().width\r\n\r\n    if (!responsive) {\r\n      return null\r\n    }\r\n\r\n    const breakpoint = getBreakpoint(responsive)\r\n    let breakPointNum = -1\r\n    if (!breakpoint) {\r\n      breakPointNum = parseInt(responsive)\r\n    } else {\r\n      breakPointNum = +breakpoint\r\n    }\r\n\r\n    if (width < breakPointNum) {\r\n      return 'on'\r\n    } else {\r\n      return 'off'\r\n    }\r\n  }\r\n\r\n  // Focus\r\n  private focus = () => {\r\n    this.element.classList.add('focus')\r\n\r\n    if (\r\n      this.getOption('show-on-focus') === true ||\r\n      this.inputElement.value.length >= this.options.minLength\r\n    ) {\r\n      this.show()\r\n    }\r\n  }\r\n\r\n  // Blur\r\n  private blur = () => {\r\n    this.element.classList.remove('focus')\r\n  }\r\n\r\n  // Enter\r\n  private enter = (e: KeyboardEvent) => {\r\n    const key = e.charCode || e.keyCode || 0\r\n\r\n    if (key === 13) {\r\n      e.preventDefault()\r\n\r\n      this.search()\r\n    }\r\n  }\r\n\r\n  // Input\r\n  private input = () => {\r\n    if (this.getOption('min-length')) {\r\n      const minLength = parseInt(this.getOption('min-length') as string)\r\n\r\n      if (this.inputElement.value.length >= minLength) {\r\n        this.search()\r\n      } else if (this.inputElement.value.length === 0) {\r\n        this.clear()\r\n      }\r\n    }\r\n  }\r\n\r\n  private handlers(): void {\r\n    // Focus\r\n    this.inputElement.addEventListener('focus', this.focus)\r\n\r\n    // Blur\r\n    this.inputElement.addEventListener('blur', this.blur)\r\n\r\n    // Keypress\r\n    if (this.getOption('keypress') === true) {\r\n      this.inputElement.addEventListener('input', this.input)\r\n    }\r\n\r\n    // Submit\r\n    if (this.submitElement) {\r\n      this.submitElement.addEventListener('click', this.search)\r\n    }\r\n\r\n    // Enter\r\n    if (this.getOption('enter') === true) {\r\n      this.inputElement.addEventListener('keypress', this.enter)\r\n    }\r\n\r\n    // Clear\r\n    if (this.clearElement) {\r\n      this.clearElement.addEventListener('click', this.clear)\r\n    }\r\n\r\n    // Menu\r\n    if (this.menuObject) {\r\n      // Toggle menu\r\n      if (this.toggleElement) {\r\n        this.toggleElement.addEventListener('click', this.show)\r\n\r\n        this.menuObject.on('kt.menu.dropdown.show', function () {\r\n          // @ts-ignore\r\n          if (isVisibleElement(this.toggleElement)) {\r\n            // @ts-ignore\r\n            this.toggleElement.classList.add('active')\r\n            // @ts-ignore\r\n            this.toggleElement.classList.add('show')\r\n          }\r\n        })\r\n\r\n        this.menuObject.on('kt.menu.dropdown.hide', function () {\r\n          // @ts-ignore\r\n          if (isVisibleElement(this.toggleElement)) {\r\n            // @ts-ignore\r\n            this.toggleElement.classList.remove('active')\r\n            // @ts-ignore\r\n            this.toggleElement.classList.remove('show')\r\n          }\r\n        })\r\n      }\r\n\r\n      this.menuObject.on('kt.menu.dropdown.shown', function () {\r\n        // @ts-ignore\r\n        this.inputElement.focus()\r\n      })\r\n    }\r\n\r\n    // Window resize handling\r\n    window.addEventListener('resize', () => {\r\n      let timer\r\n\r\n      throttle(\r\n        timer,\r\n        () => {\r\n          this.update()\r\n        },\r\n        200\r\n      )\r\n    })\r\n  }\r\n\r\n  ///////////////////////\r\n  // ** Public API  ** //\r\n  ///////////////////////\r\n  // Update\r\n  public update = () => {\r\n    // Handle responsive form\r\n    if (this.layout === 'menu') {\r\n      let responsiveFormMode = this.getResponsiveFormMode()\r\n\r\n      if (responsiveFormMode === 'on' && this.contentElement.contains(this.formElement) === false) {\r\n        this.contentElement.prepend(this.formElement)\r\n        this.formElement.classList.remove('d-none')\r\n      } else if (\r\n        responsiveFormMode === 'off' &&\r\n        this.contentElement.contains(this.formElement) === true\r\n      ) {\r\n        this.element.prepend(this.formElement)\r\n        this.formElement.classList.add('d-none')\r\n      }\r\n    }\r\n  }\r\n\r\n  // Show menu\r\n  public show = () => {\r\n    if (this.menuObject) {\r\n      this.update()\r\n\r\n      this.menuObject.show(this.element)\r\n    }\r\n  }\r\n\r\n  // Hide menu\r\n  public hide = () => {\r\n    if (this.menuObject) {\r\n      this.update()\r\n\r\n      this.menuObject.hide(this.element)\r\n    }\r\n  }\r\n\r\n  // Search\r\n  public search = () => {\r\n    if (this.processing === false) {\r\n      // Show search spinner\r\n      if (this.spinnerElement) {\r\n        this.spinnerElement.classList.remove('d-none')\r\n      }\r\n\r\n      // Hide search clear button\r\n      if (this.clearElement) {\r\n        this.clearElement.classList.add('d-none')\r\n      }\r\n\r\n      // Hide search toolbar\r\n      if (this.toolbarElement) {\r\n        this.toolbarElement.classList.add('d-none')\r\n      }\r\n\r\n      // Focus input\r\n      this.inputElement.focus()\r\n\r\n      this.processing = true\r\n      EventHandlerUtil.trigger(this.element, 'kt.search.process')\r\n    }\r\n  }\r\n\r\n  // Complete\r\n  public complete = () => {\r\n    if (this.spinnerElement) {\r\n      this.spinnerElement.classList.add('d-none')\r\n    }\r\n\r\n    // Show search toolbar\r\n    if (this.clearElement) {\r\n      this.clearElement.classList.remove('d-none')\r\n    }\r\n\r\n    if (this.inputElement.value.length === 0) {\r\n      this.clear()\r\n    }\r\n\r\n    // Focus input\r\n    this.inputElement.focus()\r\n\r\n    this.show()\r\n\r\n    this.processing = false\r\n  }\r\n\r\n  // Clear\r\n  public clear = () => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.search.clear') === false) {\r\n      return\r\n    }\r\n\r\n    // Clear and focus input\r\n    this.inputElement.value = ''\r\n    this.inputElement.focus()\r\n\r\n    // Hide clear icon\r\n    if (this.clearElement) {\r\n      this.clearElement.classList.add('d-none')\r\n    }\r\n\r\n    // Show search toolbar\r\n    if (this.toolbarElement) {\r\n      this.toolbarElement.classList.remove('d-none')\r\n    }\r\n\r\n    // Hide menu\r\n    if (this.getOption('show-on-focus') === false) {\r\n      this.hide()\r\n    }\r\n\r\n    EventHandlerUtil.trigger(this.element, 'kt.search.cleared')\r\n  }\r\n\r\n  public isProcessing = () => {\r\n    return this.processing\r\n  }\r\n\r\n  public getQuery = () => {\r\n    return this.inputElement.value\r\n  }\r\n\r\n  public getMenu = () => {\r\n    return this.menuObject\r\n  }\r\n\r\n  public getFormElement = () => {\r\n    return this.formElement\r\n  }\r\n\r\n  public getInputElement(): HTMLInputElement {\r\n    return this.inputElement\r\n  }\r\n\r\n  public getContentElement(): HTMLElement {\r\n    return this.contentElement\r\n  }\r\n\r\n  public getElement(): HTMLElement {\r\n    return this.element\r\n  }\r\n\r\n  // Event API\r\n  public on = (name: string, handler: Function) => {\r\n    return EventHandlerUtil.on(this.element, name, handler)\r\n  }\r\n\r\n  public one = (name: string, handler: Function) => {\r\n    return EventHandlerUtil.one(this.element, name, handler)\r\n  }\r\n\r\n  public off = (name: string) => {\r\n    return EventHandlerUtil.off(this.element, name)\r\n  }\r\n\r\n  // Static methods\r\n  public static getInstance = (\r\n    el: HTMLElement,\r\n    componentName: string = defaultSearchQueires.componentName\r\n  ) => {\r\n    const Search = DataUtil.get(el, componentName)\r\n    if (Search) {\r\n      return Search\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  public static createInstances = (\r\n    selector: string = defaultSearchQueires.instanseQuery,\r\n    options: ISearchOptions = defaultSearchOptions,\r\n    queries: ISearchQueries = defaultSearchQueires\r\n  ) => {\r\n    const elements = document.body.querySelectorAll(selector)\r\n    elements.forEach((el) => {\r\n      const item = el as HTMLElement\r\n      let Search = SearchComponent.getInstance(item)\r\n      if (!Search) {\r\n        Search = new SearchComponent(item, options, queries)\r\n      }\r\n    })\r\n  }\r\n\r\n  public static createInsance = (\r\n    selector: string = defaultSearchQueires.instanseQuery,\r\n    options: ISearchOptions = defaultSearchOptions,\r\n    queries: ISearchQueries = defaultSearchQueires\r\n  ): SearchComponent | undefined => {\r\n    const element = document.body.querySelector(selector)\r\n    if (!element) {\r\n      return\r\n    }\r\n    const item = element as HTMLElement\r\n    let Search = SearchComponent.getInstance(item)\r\n    if (!Search) {\r\n      Search = new SearchComponent(item, options, queries)\r\n    }\r\n    return Search\r\n  }\r\n\r\n  public static bootstrap = (selector: string = defaultSearchQueires.instanseQuery) => {\r\n    SearchComponent.createInstances(selector)\r\n  }\r\n\r\n  public static reinitialization = (selector: string = defaultSearchQueires.instanseQuery) => {\r\n    SearchComponent.createInstances(selector)\r\n  }\r\n}\r\nexport {SearchComponent, defaultSearchOptions, defaultSearchQueires}\r\n"]}]}