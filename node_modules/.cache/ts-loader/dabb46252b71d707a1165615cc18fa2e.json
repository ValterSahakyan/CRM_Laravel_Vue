{"remainingRequest":"/home/valter/work/demo7/node_modules/ts-loader/index.js??ref--14-1!/home/valter/work/demo7/node_modules/eslint-loader/index.js??ref--13-0!/home/valter/work/demo7/src/store/modules/AuthModule.ts","dependencies":[{"path":"/home/valter/work/demo7/src/store/modules/AuthModule.ts","mtime":1636661312000},{"path":"/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js","mtime":1665764724378},{"path":"/home/valter/work/demo7/node_modules/ts-loader/index.js","mtime":1665764724869},{"path":"/home/valter/work/demo7/node_modules/eslint-loader/index.js","mtime":1665764716618}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hc3NpZ24sIF9fZGVjb3JhdGUsIF9fZXh0ZW5kcywgX19tZXRhZGF0YSB9IGZyb20gInRzbGliIjsKaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAiQC9jb3JlL3NlcnZpY2VzL0FwaVNlcnZpY2UiOwppbXBvcnQgSnd0U2VydmljZSBmcm9tICJAL2NvcmUvc2VydmljZXMvSnd0U2VydmljZSI7CmltcG9ydCB7IEFjdGlvbnMsIE11dGF0aW9ucyB9IGZyb20gIkAvc3RvcmUvZW51bXMvU3RvcmVFbnVtcyI7CmltcG9ydCB7IE1vZHVsZSwgQWN0aW9uLCBNdXRhdGlvbiwgVnVleE1vZHVsZSB9IGZyb20gInZ1ZXgtbW9kdWxlLWRlY29yYXRvcnMiOwp2YXIgQXV0aE1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKICAgIF9fZXh0ZW5kcyhBdXRoTW9kdWxlLCBfc3VwZXIpOwogICAgZnVuY3Rpb24gQXV0aE1vZHVsZSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKICAgICAgICBfdGhpcy5lcnJvcnMgPSB7fTsKICAgICAgICBfdGhpcy51c2VyID0ge307CiAgICAgICAgX3RoaXMuaXNBdXRoZW50aWNhdGVkID0gISFKd3RTZXJ2aWNlLmdldFRva2VuKCk7CiAgICAgICAgcmV0dXJuIF90aGlzOwogICAgICAgIC8vIEBBY3Rpb24KICAgICAgICAvLyBbQWN0aW9ucy5VUERBVEVfVVNFUl0ocGF5bG9hZCkgewogICAgICAgIC8vICAgQXBpU2VydmljZS5zZXRIZWFkZXIoKTsKICAgICAgICAvLyAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgLy8gICAgIEFwaVNlcnZpY2UucG9zdCgidXBkYXRlX3VzZXIiLCBwYXlsb2FkKQogICAgICAgIC8vICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgIC8vICAgICAgICAgdGhpcy5jb250ZXh0LmNvbW1pdChNdXRhdGlvbnMuU0VUX1VTRVIsIGRhdGEpOwogICAgICAgIC8vICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIC8vICAgICAgIH0pCiAgICAgICAgLy8gICAgICAgLmNhdGNoKCh7IHJlc3BvbnNlIH0pID0+IHsKICAgICAgICAvLyAgICAgICAgIHRoaXMuY29udGV4dC5jb21taXQoTXV0YXRpb25zLlNFVF9FUlJPUiwgcmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgICAgIC8vICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgLy8gICAgICAgfSk7CiAgICAgICAgLy8gICB9KTsKICAgICAgICAvLyB9CiAgICB9CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aE1vZHVsZS5wcm90b3R5cGUsICJjdXJyZW50VXNlciIsIHsKICAgICAgICAvKioKICAgICAgICAgKiBHZXQgY3VycmVudCB1c2VyIG9iamVjdAogICAgICAgICAqIEByZXR1cm5zIFVzZXIKICAgICAgICAgKi8KICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlcjsKICAgICAgICB9LAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgfSk7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aE1vZHVsZS5wcm90b3R5cGUsICJpc1VzZXJBdXRoZW50aWNhdGVkIiwgewogICAgICAgIC8qKgogICAgICAgICAqIFZlcmlmeSB1c2VyIGF1dGhlbnRpY2F0aW9uCiAgICAgICAgICogQHJldHVybnMgYm9vbGVhbgogICAgICAgICAqLwogICAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5pc0F1dGhlbnRpY2F0ZWQ7CiAgICAgICAgfSwKICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0pOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1dGhNb2R1bGUucHJvdG90eXBlLCAiZ2V0RXJyb3JzIiwgewogICAgICAgIC8qKgogICAgICAgICAqIEdldCBhdXRoZW50aWZpY2F0aW9uIGVycm9ycwogICAgICAgICAqIEByZXR1cm5zIGFycmF5CiAgICAgICAgICovCiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yczsKICAgICAgICB9LAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgfSk7CiAgICBBdXRoTW9kdWxlLnByb3RvdHlwZVtfYSA9IE11dGF0aW9ucy5TRVRfRVJST1JdID0gZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcjsKICAgIH07CiAgICBBdXRoTW9kdWxlLnByb3RvdHlwZVtfYiA9IE11dGF0aW9ucy5TRVRfQVVUSF0gPSBmdW5jdGlvbiAodXNlcikgewogICAgICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKICAgICAgICB0aGlzLnVzZXIgPSB1c2VyOwogICAgICAgIHRoaXMuZXJyb3JzID0gW107CiAgICAgICAgSnd0U2VydmljZS5zYXZlVG9rZW4odGhpcy51c2VyLmFwaV90b2tlbik7CiAgICB9OwogICAgQXV0aE1vZHVsZS5wcm90b3R5cGVbX2MgPSBNdXRhdGlvbnMuU0VUX1VTRVJdID0gZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICB0aGlzLnVzZXIgPSB1c2VyOwogICAgfTsKICAgIEF1dGhNb2R1bGUucHJvdG90eXBlW19kID0gTXV0YXRpb25zLlNFVF9QQVNTV09SRF0gPSBmdW5jdGlvbiAocGFzc3dvcmQpIHsKICAgICAgICB0aGlzLnVzZXIucGFzc3dvcmQgPSBwYXNzd29yZDsKICAgIH07CiAgICBBdXRoTW9kdWxlLnByb3RvdHlwZVtfZSA9IE11dGF0aW9ucy5QVVJHRV9BVVRIXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlOwogICAgICAgIHRoaXMudXNlciA9IHt9OwogICAgICAgIHRoaXMuZXJyb3JzID0gW107CiAgICAgICAgSnd0U2VydmljZS5kZXN0cm95VG9rZW4oKTsKICAgIH07CiAgICBBdXRoTW9kdWxlLnByb3RvdHlwZVtfZiA9IEFjdGlvbnMuTE9HSU5dID0gZnVuY3Rpb24gKGNyZWRlbnRpYWxzKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICBwYXJhbXM6IF9fYXNzaWduKHt9LCBjcmVkZW50aWFscyksCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICBBcGlTZXJ2aWNlLnF1ZXJ5KCJsb2dpbiIsIHBhcmFtcykKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfbCkgewogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBfbC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMuY29udGV4dC5jb21taXQoTXV0YXRpb25zLlNFVF9BVVRILCBkYXRhKTsKICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoX2wpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IF9sLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgX3RoaXMuY29udGV4dC5jb21taXQoTXV0YXRpb25zLlNFVF9FUlJPUiwgcmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgICAgICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfTsKICAgIEF1dGhNb2R1bGUucHJvdG90eXBlW19nID0gQWN0aW9ucy5MT0dPVVRdID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY29udGV4dC5jb21taXQoTXV0YXRpb25zLlBVUkdFX0FVVEgpOwogICAgfTsKICAgIEF1dGhNb2R1bGUucHJvdG90eXBlW19oID0gQWN0aW9ucy5SRUdJU1RFUl0gPSBmdW5jdGlvbiAoY3JlZGVudGlhbHMpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgIEFwaVNlcnZpY2UucG9zdCgicmVnaXN0ZXIiLCBjcmVkZW50aWFscykKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfbCkgewogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBfbC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMuY29udGV4dC5jb21taXQoTXV0YXRpb25zLlNFVF9BVVRILCBkYXRhKTsKICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoX2wpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IF9sLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgX3RoaXMuY29udGV4dC5jb21taXQoTXV0YXRpb25zLlNFVF9FUlJPUiwgcmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgICAgICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfTsKICAgIEF1dGhNb2R1bGUucHJvdG90eXBlW19qID0gQWN0aW9ucy5GT1JHT1RfUEFTU1dPUkRdID0gZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgIHBhcmFtczogX19hc3NpZ24oe30sIHBheWxvYWQpLAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgQXBpU2VydmljZS5xdWVyeSgiZm9yZ290X3Bhc3N3b3JkIiwgcGFyYW1zKQogICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9sKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF9sLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5jb250ZXh0LmNvbW1pdChNdXRhdGlvbnMuU0VUX0FVVEgsIGRhdGEpOwogICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChfbCkgewogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gX2wucmVzcG9uc2U7CiAgICAgICAgICAgICAgICBfdGhpcy5jb250ZXh0LmNvbW1pdChNdXRhdGlvbnMuU0VUX0VSUk9SLCByZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICAgICAgICAgICAgICByZWplY3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9OwogICAgQXV0aE1vZHVsZS5wcm90b3R5cGVbX2sgPSBBY3Rpb25zLlZFUklGWV9BVVRIXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIGlmIChKd3RTZXJ2aWNlLmdldFRva2VuKCkpIHsKICAgICAgICAgICAgQXBpU2VydmljZS5zZXRIZWFkZXIoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHRva2VuOiBKd3RTZXJ2aWNlLmdldFRva2VuKCksCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9OwogICAgICAgICAgICBBcGlTZXJ2aWNlLnF1ZXJ5KCJ2ZXJpZnlfdG9rZW4iLCBwYXJhbXMpCiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2wpIHsKICAgICAgICAgICAgICAgIHZhciBkYXRhID0gX2wuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLmNvbnRleHQuY29tbWl0KE11dGF0aW9ucy5TRVRfQVVUSCwgZGF0YSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKF9sKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBfbC5yZXNwb25zZTsKICAgICAgICAgICAgICAgIF90aGlzLmNvbnRleHQuY29tbWl0KE11dGF0aW9ucy5TRVRfRVJST1IsIHJlc3BvbnNlLmRhdGEuZXJyb3JzKTsKICAgICAgICAgICAgICAgIF90aGlzLmNvbnRleHQuY29tbWl0KE11dGF0aW9ucy5QVVJHRV9BVVRIKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmNvbnRleHQuY29tbWl0KE11dGF0aW9ucy5QVVJHRV9BVVRIKTsKICAgICAgICB9CiAgICB9OwogICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rOwogICAgX19kZWNvcmF0ZShbCiAgICAgICAgTXV0YXRpb24sCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBGdW5jdGlvbiksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbT2JqZWN0XSksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnJldHVybnR5cGUiLCB2b2lkIDApCiAgICBdLCBBdXRoTW9kdWxlLnByb3RvdHlwZSwgX2EsIG51bGwpOwogICAgX19kZWNvcmF0ZShbCiAgICAgICAgTXV0YXRpb24sCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBGdW5jdGlvbiksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbT2JqZWN0XSksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnJldHVybnR5cGUiLCB2b2lkIDApCiAgICBdLCBBdXRoTW9kdWxlLnByb3RvdHlwZSwgX2IsIG51bGwpOwogICAgX19kZWNvcmF0ZShbCiAgICAgICAgTXV0YXRpb24sCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBGdW5jdGlvbiksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbT2JqZWN0XSksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnJldHVybnR5cGUiLCB2b2lkIDApCiAgICBdLCBBdXRoTW9kdWxlLnByb3RvdHlwZSwgX2MsIG51bGwpOwogICAgX19kZWNvcmF0ZShbCiAgICAgICAgTXV0YXRpb24sCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBGdW5jdGlvbiksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbT2JqZWN0XSksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnJldHVybnR5cGUiLCB2b2lkIDApCiAgICBdLCBBdXRoTW9kdWxlLnByb3RvdHlwZSwgX2QsIG51bGwpOwogICAgX19kZWNvcmF0ZShbCiAgICAgICAgTXV0YXRpb24sCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBGdW5jdGlvbiksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbXSksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnJldHVybnR5cGUiLCB2b2lkIDApCiAgICBdLCBBdXRoTW9kdWxlLnByb3RvdHlwZSwgX2UsIG51bGwpOwogICAgX19kZWNvcmF0ZShbCiAgICAgICAgQWN0aW9uLAogICAgICAgIF9fbWV0YWRhdGEoImRlc2lnbjp0eXBlIiwgRnVuY3Rpb24pLAogICAgICAgIF9fbWV0YWRhdGEoImRlc2lnbjpwYXJhbXR5cGVzIiwgW09iamVjdF0pLAogICAgICAgIF9fbWV0YWRhdGEoImRlc2lnbjpyZXR1cm50eXBlIiwgdm9pZCAwKQogICAgXSwgQXV0aE1vZHVsZS5wcm90b3R5cGUsIF9mLCBudWxsKTsKICAgIF9fZGVjb3JhdGUoWwogICAgICAgIEFjdGlvbiwKICAgICAgICBfX21ldGFkYXRhKCJkZXNpZ246dHlwZSIsIEZ1bmN0aW9uKSwKICAgICAgICBfX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFtdKSwKICAgICAgICBfX21ldGFkYXRhKCJkZXNpZ246cmV0dXJudHlwZSIsIHZvaWQgMCkKICAgIF0sIEF1dGhNb2R1bGUucHJvdG90eXBlLCBfZywgbnVsbCk7CiAgICBfX2RlY29yYXRlKFsKICAgICAgICBBY3Rpb24sCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCBGdW5jdGlvbiksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbT2JqZWN0XSksCiAgICAgICAgX19tZXRhZGF0YSgiZGVzaWduOnJldHVybnR5cGUiLCB2b2lkIDApCiAgICBdLCBBdXRoTW9kdWxlLnByb3RvdHlwZSwgX2gsIG51bGwpOwogICAgX19kZWNvcmF0ZShbCiAgICAgICAgQWN0aW9uLAogICAgICAgIF9fbWV0YWRhdGEoImRlc2lnbjp0eXBlIiwgRnVuY3Rpb24pLAogICAgICAgIF9fbWV0YWRhdGEoImRlc2lnbjpwYXJhbXR5cGVzIiwgW09iamVjdF0pLAogICAgICAgIF9fbWV0YWRhdGEoImRlc2lnbjpyZXR1cm50eXBlIiwgdm9pZCAwKQogICAgXSwgQXV0aE1vZHVsZS5wcm90b3R5cGUsIF9qLCBudWxsKTsKICAgIF9fZGVjb3JhdGUoWwogICAgICAgIEFjdGlvbiwKICAgICAgICBfX21ldGFkYXRhKCJkZXNpZ246dHlwZSIsIEZ1bmN0aW9uKSwKICAgICAgICBfX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFtdKSwKICAgICAgICBfX21ldGFkYXRhKCJkZXNpZ246cmV0dXJudHlwZSIsIHZvaWQgMCkKICAgIF0sIEF1dGhNb2R1bGUucHJvdG90eXBlLCBfaywgbnVsbCk7CiAgICBBdXRoTW9kdWxlID0gX19kZWNvcmF0ZShbCiAgICAgICAgTW9kdWxlCiAgICBdLCBBdXRoTW9kdWxlKTsKICAgIHJldHVybiBBdXRoTW9kdWxlOwp9KFZ1ZXhNb2R1bGUpKTsKZXhwb3J0IGRlZmF1bHQgQXV0aE1vZHVsZTsK"},{"version":3,"file":"/home/valter/work/demo7/src/store/modules/AuthModule.ts","sourceRoot":"","sources":["/home/valter/work/demo7/node_modules/eslint-loader/index.js??ref--13-0!/home/valter/work/demo7/src/store/modules/AuthModule.ts"],"names":[],"mappings":"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","sourcesContent":["import ApiService from \"@/core/services/ApiService\";\r\nimport JwtService from \"@/core/services/JwtService\";\r\nimport { Actions, Mutations } from \"@/store/enums/StoreEnums\";\r\nimport { Module, Action, Mutation, VuexModule } from \"vuex-module-decorators\";\r\nimport { AxiosRequestConfig } from \"axios\";\r\n\r\nexport interface User {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  password: string;\r\n  api_token: string;\r\n}\r\n\r\nexport interface UserAuthInfo {\r\n  errors: unknown;\r\n  user: User;\r\n  isAuthenticated: boolean;\r\n}\r\n\r\n@Module\r\nexport default class AuthModule extends VuexModule implements UserAuthInfo {\r\n  errors = {};\r\n  user = {} as User;\r\n  isAuthenticated = !!JwtService.getToken();\r\n\r\n  /**\r\n   * Get current user object\r\n   * @returns User\r\n   */\r\n  get currentUser(): User {\r\n    return this.user;\r\n  }\r\n\r\n  /**\r\n   * Verify user authentication\r\n   * @returns boolean\r\n   */\r\n  get isUserAuthenticated(): boolean {\r\n    return this.isAuthenticated;\r\n  }\r\n\r\n  /**\r\n   * Get authentification errors\r\n   * @returns array\r\n   */\r\n  get getErrors() {\r\n    return this.errors;\r\n  }\r\n\r\n  @Mutation\r\n  [Mutations.SET_ERROR](error) {\r\n    this.errors = error;\r\n  }\r\n\r\n  @Mutation\r\n  [Mutations.SET_AUTH](user) {\r\n    this.isAuthenticated = true;\r\n    this.user = user;\r\n    this.errors = [];\r\n    JwtService.saveToken(this.user.api_token);\r\n  }\r\n\r\n  @Mutation\r\n  [Mutations.SET_USER](user) {\r\n    this.user = user;\r\n  }\r\n\r\n  @Mutation\r\n  [Mutations.SET_PASSWORD](password) {\r\n    this.user.password = password;\r\n  }\r\n\r\n  @Mutation\r\n  [Mutations.PURGE_AUTH]() {\r\n    this.isAuthenticated = false;\r\n    this.user = {} as User;\r\n    this.errors = [];\r\n    JwtService.destroyToken();\r\n  }\r\n\r\n  @Action\r\n  [Actions.LOGIN](credentials) {\r\n    const params = {\r\n      params: {\r\n        ...credentials,\r\n      },\r\n    };\r\n    return new Promise<void>((resolve, reject) => {\r\n      ApiService.query(\"login\", params)\r\n        .then(({ data }) => {\r\n          this.context.commit(Mutations.SET_AUTH, data);\r\n          resolve();\r\n        })\r\n        .catch(({ response }) => {\r\n          this.context.commit(Mutations.SET_ERROR, response.data.errors);\r\n          reject();\r\n        });\r\n    });\r\n  }\r\n\r\n  @Action\r\n  [Actions.LOGOUT]() {\r\n    this.context.commit(Mutations.PURGE_AUTH);\r\n  }\r\n\r\n  @Action\r\n  [Actions.REGISTER](credentials) {\r\n    return new Promise<void>((resolve, reject) => {\r\n      ApiService.post(\"register\", credentials)\r\n        .then(({ data }) => {\r\n          this.context.commit(Mutations.SET_AUTH, data);\r\n          resolve();\r\n        })\r\n        .catch(({ response }) => {\r\n          this.context.commit(Mutations.SET_ERROR, response.data.errors);\r\n          reject();\r\n        });\r\n    });\r\n  }\r\n\r\n  @Action\r\n  [Actions.FORGOT_PASSWORD](payload) {\r\n    const params = {\r\n      params: {\r\n        ...payload,\r\n      },\r\n    };\r\n    return new Promise<void>((resolve, reject) => {\r\n      ApiService.query(\"forgot_password\", params)\r\n        .then(({ data }) => {\r\n          this.context.commit(Mutations.SET_AUTH, data);\r\n          resolve();\r\n        })\r\n        .catch(({ response }) => {\r\n          this.context.commit(Mutations.SET_ERROR, response.data.errors);\r\n          reject();\r\n        });\r\n    });\r\n  }\r\n\r\n  @Action\r\n  [Actions.VERIFY_AUTH]() {\r\n    if (JwtService.getToken()) {\r\n      ApiService.setHeader();\r\n      const params = {\r\n        params: {\r\n          token: JwtService.getToken(),\r\n        },\r\n      };\r\n      ApiService.query(\"verify_token\", params as AxiosRequestConfig)\r\n        .then(({ data }) => {\r\n          this.context.commit(Mutations.SET_AUTH, data);\r\n        })\r\n        .catch(({ response }) => {\r\n          this.context.commit(Mutations.SET_ERROR, response.data.errors);\r\n          this.context.commit(Mutations.PURGE_AUTH);\r\n        });\r\n    } else {\r\n      this.context.commit(Mutations.PURGE_AUTH);\r\n    }\r\n  }\r\n\r\n  // @Action\r\n  // [Actions.UPDATE_USER](payload) {\r\n  //   ApiService.setHeader();\r\n  //   return new Promise<void>((resolve, reject) => {\r\n  //     ApiService.post(\"update_user\", payload)\r\n  //       .then(({ data }) => {\r\n  //         this.context.commit(Mutations.SET_USER, data);\r\n  //         resolve();\r\n  //       })\r\n  //       .catch(({ response }) => {\r\n  //         this.context.commit(Mutations.SET_ERROR, response.data.errors);\r\n  //         reject();\r\n  //       });\r\n  //   });\r\n  // }\r\n}\r\n"]}]}