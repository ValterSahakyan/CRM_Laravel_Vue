{"remainingRequest":"/home/valter/work/demo7/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/valter/work/demo7/src/components/kt-datatable/KTDatatable.vue?vue&type=style&index=0&id=30f16708&lang=scss","dependencies":[{"path":"/home/valter/work/demo7/src/components/kt-datatable/KTDatatable.vue","mtime":1636661312000},{"path":"/home/valter/work/demo7/node_modules/css-loader/dist/cjs.js","mtime":1665764726312},{"path":"/home/valter/work/demo7/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1665764726893},{"path":"/home/valter/work/demo7/node_modules/postcss-loader/src/index.js","mtime":1665764726463},{"path":"/home/valter/work/demo7/node_modules/sass-loader/dist/cjs.js","mtime":1665764732002},{"path":"/home/valter/work/demo7/node_modules/cache-loader/dist/cjs.js","mtime":1665764724378},{"path":"/home/valter/work/demo7/node_modules/vue-loader-v16/dist/index.js","mtime":1665764726893}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQp0YWJsZS5kYXRhVGFibGUgew0KICBjbGVhcjogYm90aDsNCiAgbWFyZ2luLXRvcDogNnB4ICFpbXBvcnRhbnQ7DQogIG1hcmdpbi1ib3R0b206IDZweCAhaW1wb3J0YW50Ow0KICBtYXgtd2lkdGg6IG5vbmUgIWltcG9ydGFudDsNCiAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZSAhaW1wb3J0YW50Ow0KICBib3JkZXItc3BhY2luZzogMDsNCn0NCg0KdGFibGUuZGF0YVRhYmxlID4gdGhlYWQgew0KICB0aC5zb3J0aW5nIHsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIH0NCiAgLnNvcnRpbmc6YWZ0ZXIgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgfQ0KfQ0KDQouZWwtcGFnaW5hdGlvbi5pcy1iYWNrZ3JvdW5kIC5idG4tbmV4dCwNCi5lbC1wYWdpbmF0aW9uLmlzLWJhY2tncm91bmQgLmJ0bi1wcmV2LA0KLmVsLXBhZ2luYXRpb24uaXMtYmFja2dyb3VuZCAuZWwtcGFnZXIgbGkgew0KICBiYWNrZ3JvdW5kOiBub25lOw0KICBib3JkZXItcmFkaXVzOiAwLjQ3NXJlbTsNCiAgZm9udC13ZWlnaHQ6IDUwMDsNCiAgZm9udC1zaXplOiAxLjA3NXJlbTsNCiAgZm9udC1mYW1pbHk6IFBvcHBpbnMsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsNCn0NCg0KLmVsLXBhZ2luYXRpb24uaXMtYmFja2dyb3VuZCAuZWwtcGFnZXIgbGk6bm90KC5kaXNhYmxlZCkuYWN0aXZlIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzAwOWVmNzsNCn0NCg0KdGFibGUuZGF0YVRhYmxlIHRkLmRhdGFUYWJsZXNfZW1wdHksDQp0YWJsZS5kYXRhVGFibGUgdGguZGF0YVRhYmxlc19lbXB0eSB7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCg0KZGl2LmRhdGFUYWJsZXNfd3JhcHBlciBkaXYuZGF0YVRhYmxlc19wcm9jZXNzaW5nIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDUwJTsNCiAgbGVmdDogNTAlOw0KfQ0K"},{"version":3,"sources":["/home/valter/work/demo7/src/components/kt-datatable/KTDatatable.vue"],"names":[],"mappings":"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","file":"/home/valter/work/demo7/src/components/kt-datatable/KTDatatable.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"dataTables_wrapper dt-bootstrap4 no-footer\">\r\n    <div class=\"table-responsive\">\r\n      <table\r\n        :class=\"[loading && 'overlay overlay-block']\"\r\n        class=\"\r\n          table\r\n          align-middle\r\n          table-row-dashed\r\n          fs-6\r\n          gy-5\r\n          dataTable\r\n          no-footer\r\n        \"\r\n        id=\"kt_customers_table\"\r\n        role=\"grid\"\r\n      >\r\n        <!--begin::Table head-->\r\n        <thead>\r\n          <!--begin::Table row-->\r\n          <tr\r\n            class=\"text-start text-gray-400 fw-bolder fs-7 text-uppercase gs-0\"\r\n            role=\"row\"\r\n          >\r\n            <template v-for=\"(cell, i) in tableHeader\" :key=\"i\">\r\n              <th\r\n                @click=\"\r\n                  sort(\r\n                    cell.sortingField ? cell.sortingField : cell.key,\r\n                    cell.sortable\r\n                  )\r\n                \"\r\n                :class=\"[\r\n                  cell.name && 'min-w-125px',\r\n                  cell.sortable !== false && 'sorting',\r\n                  tableHeader.length - 1 === i && 'text-end',\r\n                  currentSort ===\r\n                    `${cell.sortingField ? cell.sortingField : cell.key}desc` &&\r\n                    'sorting_desc',\r\n                  currentSort ===\r\n                    `${cell.sortingField ? cell.sortingField : cell.key}asc` &&\r\n                    'sorting_asc',\r\n                ]\"\r\n                tabindex=\"0\"\r\n                rowspan=\"1\"\r\n                colspan=\"1\"\r\n                style=\"cursor: pointer\"\r\n              >\r\n                {{ cell.name }}\r\n              </th>\r\n            </template>\r\n          </tr>\r\n          <!--end::Table row-->\r\n        </thead>\r\n        <!--end::Table head-->\r\n        <!--begin::Table body-->\r\n        <tbody class=\"fw-bold text-gray-600\">\r\n          <template v-if=\"getItems.length\">\r\n            <template v-for=\"(item, i) in getItems\" :key=\"i\">\r\n              <tr class=\"odd\">\r\n                <template v-for=\"(cell, i) in tableHeader\" :key=\"i\">\r\n                  <td :class=\"{ 'text-end': tableHeader.length - 1 === i }\">\r\n                    <slot :name=\"`cell-${cell.key}`\" :row=\"item\">\r\n                      {{ item[prop] }}\r\n                    </slot>\r\n                  </td>\r\n                </template>\r\n                <!--end::Item=-->\r\n              </tr>\r\n            </template>\r\n          </template>\r\n          <template>\r\n            <tr class=\"odd\">\r\n              <td colspan=\"7\" class=\"dataTables_empty\">\r\n                {{ emptyTableText }}\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n        <div\r\n          v-if=\"loading\"\r\n          class=\"overlay-layer card-rounded bg-dark bg-opacity-5\"\r\n        >\r\n          <div class=\"spinner-border text-primary\" role=\"status\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n        <!--end::Table body-->\r\n      </table>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div\r\n        class=\"\r\n          col-sm-12 col-md-5\r\n          d-flex\r\n          align-items-center\r\n          justify-content-center justify-content-md-start\r\n        \"\r\n      >\r\n        <div\r\n          v-if=\"enableItemsPerPageDropdown\"\r\n          class=\"dataTables_length\"\r\n          id=\"kt_customers_table_length\"\r\n        >\r\n          <label\r\n            ><select\r\n              name=\"kt_customers_table_length\"\r\n              class=\"form-select form-select-sm form-select-solid\"\r\n              @change=\"setItemsPerPage\"\r\n            >\r\n              <option value=\"10\">10</option>\r\n              <option value=\"25\">25</option>\r\n              <option value=\"50\">50</option>\r\n              <option value=\"100\">100</option>\r\n            </select></label\r\n          >\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"\r\n          col-sm-12 col-md-7\r\n          d-flex\r\n          align-items-center\r\n          justify-content-center justify-content-md-end\r\n        \"\r\n      >\r\n        <el-pagination\r\n          v-model:current-page=\"pagination.page\"\r\n          @current-change=\"currentPageChange\"\r\n          :page-size=\"pagination.rowsPerPage\"\r\n          layout=\"prev, pager, next\"\r\n          :total=\"pagination.total\"\r\n          :hide-on-single-page=\"true\"\r\n          background\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  computed,\r\n  defineComponent,\r\n  ref,\r\n  onMounted,\r\n  watch,\r\n  getCurrentInstance,\r\n} from \"vue\";\r\nimport arraySort from \"array-sort\";\r\n\r\ninterface IPagination {\r\n  page: number;\r\n  total: number;\r\n  rowsPerPage: number;\r\n}\r\n\r\ninterface IHeaderConfiguration {\r\n  name?: string;\r\n  key: string;\r\n  sortingField?: string;\r\n  sortable?: boolean;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"kt-datatable\",\r\n  emit: [\"current-change\", \"sort\", \"items-per-page-change\"],\r\n  props: {\r\n    tableHeader: {\r\n      type: Array as () => Array<IHeaderConfiguration>,\r\n      required: true,\r\n    },\r\n    tableData: { type: Array, required: true },\r\n    emptyTableText: { type: String, default: \"No data found\" },\r\n    loading: { type: Boolean, default: false },\r\n    currentPage: { type: Number, default: 1 },\r\n    enableItemsPerPageDropdown: { type: Boolean, default: true },\r\n    total: { type: Number, default: 0 },\r\n    rowsPerPage: { type: Number, default: 10 },\r\n    order: { type: String, default: \"asc\" },\r\n    sortLabel: { type: String, default: \"\" },\r\n  },\r\n  components: {},\r\n  setup(props, { emit }) {\r\n    const data = ref(props.tableData);\r\n    const currentSort = ref<string>(\"\");\r\n    const order = ref(props.order);\r\n    const label = ref(props.sortLabel);\r\n    const pagination = ref<IPagination>({\r\n      page: 1,\r\n      total: props.total,\r\n      rowsPerPage: props.rowsPerPage,\r\n    });\r\n\r\n    const vnodeProps = getCurrentInstance()?.vnode.props || {};\r\n\r\n    watch(data.value, () => {\r\n      if (\"onCurrentChange\" in vnodeProps) {\r\n        currentSort.value = label.value + order.value;\r\n      } else {\r\n        pagination.value.total = data.value.length;\r\n      }\r\n    });\r\n\r\n    onMounted(() => {\r\n      currentSort.value = label.value + order.value;\r\n      pagination.value.total = props.total ? props.total : data.value.length;\r\n      pagination.value.rowsPerPage = props.rowsPerPage;\r\n    });\r\n\r\n    const getItems = computed(() => {\r\n      if (\"onCurrentChange\" in vnodeProps) {\r\n        return data.value;\r\n      } else {\r\n        const clone = JSON.parse(JSON.stringify(data.value));\r\n        const startFrom =\r\n          pagination.value.page * pagination.value.rowsPerPage -\r\n          pagination.value.rowsPerPage;\r\n        return clone.splice(startFrom, pagination.value.rowsPerPage);\r\n      }\r\n    });\r\n\r\n    const currentPageChange = (val) => {\r\n      if (\"onCurrentChange\" in vnodeProps) {\r\n        emit(\"current-change\", val);\r\n      } else {\r\n        pagination.value.page = val;\r\n      }\r\n    };\r\n\r\n    const sort = (columnName, sortable) => {\r\n      if (sortable === false) {\r\n        return;\r\n      }\r\n\r\n      if (\"onSort\" in vnodeProps) {\r\n        if (order.value === \"asc\") {\r\n          order.value = \"desc\";\r\n          emit(\"sort\", { columnName: columnName, order: \"desc\" });\r\n        } else {\r\n          order.value = \"asc\";\r\n          emit(\"sort\", { columnName: columnName, order: \"asc\" });\r\n        }\r\n      } else {\r\n        if (order.value === \"asc\") {\r\n          order.value = \"desc\";\r\n          arraySort(data.value, columnName, { reverse: false });\r\n        } else {\r\n          order.value = \"asc\";\r\n          arraySort(data.value, columnName, { reverse: true });\r\n        }\r\n      }\r\n      currentSort.value = columnName + order.value;\r\n    };\r\n\r\n    const setItemsPerPage = (event) => {\r\n      if (\"onItemsPerPageChange\" in vnodeProps) {\r\n        emit(\"items-per-page-change\", parseInt(event.target.value));\r\n      } else {\r\n        pagination.value.rowsPerPage = parseInt(event.target.value);\r\n      }\r\n    };\r\n\r\n    return {\r\n      pagination,\r\n      currentPageChange,\r\n      getItems,\r\n      sort,\r\n      currentSort,\r\n      setItemsPerPage,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\ntable.dataTable {\r\n  clear: both;\r\n  margin-top: 6px !important;\r\n  margin-bottom: 6px !important;\r\n  max-width: none !important;\r\n  border-collapse: separate !important;\r\n  border-spacing: 0;\r\n}\r\n\r\ntable.dataTable > thead {\r\n  th.sorting {\r\n    position: relative;\r\n  }\r\n  .sorting:after {\r\n    position: absolute;\r\n  }\r\n}\r\n\r\n.el-pagination.is-background .btn-next,\r\n.el-pagination.is-background .btn-prev,\r\n.el-pagination.is-background .el-pager li {\r\n  background: none;\r\n  border-radius: 0.475rem;\r\n  font-weight: 500;\r\n  font-size: 1.075rem;\r\n  font-family: Poppins, Helvetica, sans-serif;\r\n}\r\n\r\n.el-pagination.is-background .el-pager li:not(.disabled).active {\r\n  background-color: #009ef7;\r\n}\r\n\r\ntable.dataTable td.dataTables_empty,\r\ntable.dataTable th.dataTables_empty {\r\n  text-align: center;\r\n}\r\n\r\ndiv.dataTables_wrapper div.dataTables_processing {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n}\r\n</style>\r\n"]}]}